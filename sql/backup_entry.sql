-- MySQL dump 10.13  Distrib 5.1.63, for debian-linux-gnu (i686)
--
-- Host: localhost    Database: diary
-- ------------------------------------------------------
-- Server version	5.1.63-0ubuntu0.11.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `entry`
--

DROP TABLE IF EXISTS `entry`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `entry` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` text,
  `body` text,
  `ctime` int(10) unsigned NOT NULL,
  `utime` int(10) unsigned DEFAULT NULL,
  `author_name` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=186 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `entry`
--

LOCK TABLES `entry` WRITE;
/*!40000 ALTER TABLE `entry` DISABLE KEYS */;
INSERT INTO `entry` VALUES (2,'坂口恭平の衝撃と、これまでの読書遍歴について','先週末、Iくんの結婚式で山口に行った際、坂口恭平という人をTに教えてもらった。彼はこのところ、DIYという考えに取り憑かれているので（まあ僕もあまり変わらないが）、その界隈で面白い人がいると。熊本に独立国を作っているらしいぞ、と。その話を聞いた時は、鹿児島の外山某みたいなアナーキスト（Wikipedia見たらファシストらしい…）か、ヒッピー系の人かと思ってなんとなく胡散臭かったのだが、東京に戻って五反田の本屋で『独立国家の作り方』（講談社現代新書）という本を買って読んでみた。結論から言うと、自分の偏見はもちろん外れていたし、なかなかお目にかかれない独自の思考体系を持つ人だと思う。久々に興奮した。菊地成孔を見つけた時みたいに。<br /><br />ついでだから、自分が今まで心酔し、弟子入りした（と勝手に思っている）作家を挙げてみよう。<br />・小学校<br />シートン<br />C.S.ルイス<br />ヒサクニヒコ<br />※当然だがこの頃は作家の名前なんか全く意識していないで読書している。主に外国のファンタジーと動物と歴史ものか。ヒサクニヒコの恐竜の絵は、よく模写していた。<br /><br />・中学校<br />アイザック・アシモフ<br />※この頃初めて、作家の名前で本を手に取るようになった。<br /><br />・高校<br />村上龍<br />小林よしのり<br />※主にリビドーに支配されていた印象。サブカルの存在を知ったのはこの頃か。<br /><br />・浪人<br />村上春樹<br />塩野七生<br />カミュ<br />※サブカルの泥沼にはまり、読書も体系立てて行うようになった。ロックミュージシャンの伝記や海外の猟奇犯罪物のノンフィクションを好んで読んでいた。<br /><br />・大学<br />菊地成孔<br />見田宗介<br />山下洋輔<br />赤瀬川原平<br />※大学同級生の文化水準の低さ（苦笑）に一人悶々としつつ、これらの神々に心酔している自分は大丈夫なんだ、東京に行けば何かが始まるんだ…と（苦笑）。<br /><br />・大学院<br />伊藤計劃<br />ウィリアム・ギブスン<br />グレッグ・イーガン<br />マイクル・コーニイ<br />ホルヘ・ルイス・ボルヘス<br />瀬戸川猛資<br />※出版社への就職を考えだしてから（なぜか）SFの泥沼にはまる。ハマりすぎて、気づけばプログラマーとして就職していた。<br /><br />・サラリーマン（～３年目）<br />ポール・グレアム<br />泉和良<br />※プログラミングの世界に完全にはまってしまったので、いわゆる専門書が多くなり、それ以外の読書や思索への興味が相対的に薄れた。相変わらず菊地成孔の私塾に通ったりもしていたが、惰性に近かったと思う（結局、2011の大震災以降行っていない）。唯一、泉和良の小説やAndyMenteの諸作品には、創作への渇望という点から、社会人以前よりものめり込んだように思う。<br /><br />これ以降、本を読んでフロンティア発見！と興奮することや、誰かに心酔することがなくなっていた。もうそういう時期じゃない、いい加減作り手の側に立たなければ生きてる意味が無いと焦りつつ、かなり行き詰っていたように思う。<br />《p156より抜粋》<br />～独自の態度レイヤーどうしは、わかり合う必要などない。もともとまったく違う経済体系（生きかた）なのだから。ただ、感じることはできる。理解はしなくても認識することはできる。態度が表明されているからだ。しかし、匿名化したレイヤーはそうはいかない。だから「空気」があるし、わかり合おうとする精神がある。～<br />この、”態度の表明”というのが僕にとっての表現行為のことであり、それはまあ、生きていく上で避けられないことではあるだろう。お金以外に得るものも多いだろうし。ただ、創造行為そのものは独自のレイヤー内部で行われるものだと思うので、その表現行為そのものが創造であるとは思いたくない。やはり作品を通して、他人と語りたいと思う。',1370504160,1376540757,'楽太郎'),(3,'坂口恭平の鹿児島駅前演説動画について','相変わらず坂口恭平にハマっている。<br />『独立国家の作り方』を読み終えてしまったので（後半は意外に、生き方や創造の方法論について、少々混乱しているけれども実直に書いてあり、面白かった）、公式サイト「0円ハウス －Kyohei Sakaguchi－」http://www.0yenhouse.com/　や、ネット上の動画を漁っている。以前は主にTwitterで日記を書いていたようだが、現在は公式サイト内の”坂口恭平日記”というコーナーに書いているようだ。毎回かなりの文字数で、現実と虚構、客観と主観が入り混じり全く遂行されていない混乱の極みの文章。相当面白い。あれだけ著書で0円0円と連呼しながら、日記では、金を持てばこの国では自由になれる、しっかり稼ぎたい、等々、相当混沌とした頭の中がかいま見える。<br />仕事中に職場のPCで見た鹿児島駅前での街頭演説は、途中で正論をかざして突っかかってくる中学生とのやり取りが、愛を感じて良かった。理屈が通ってなくても、誰も賛同者がいなくても、耳を傾けるべき意見って絶対あるのよね。この厨房がそのことを痛いほど感じる瞬間って、何年後なんだろうね。想像すると楽しい。そんな妄想を仕事中にやっている。仕事へのモチベーションの低下を如実に表している。まあ、今は雌伏の時なんだと思うことにしている。時期が来ればまた、動けるようになるだろう。そういうバイオリズムだ。躁鬱に近いのかもしれない（他人から見たら常に鬱かもしれないが）。この文章も仕事中に書いている。今仕事の連絡が入って書くのを中断していたので、今再開したが、何か書こうと思っていたことを思い出せなくなってしまった。',1370583600,1376540798,'楽太郎'),(4,'週末日記・奈良、USJ','週末はまた神戸に行っていた。 <br />今回は、土曜に奈良（奈良公園、春日大社、東大寺）・京都（水景園でホタル観賞）、日曜に梅田グランフロント、月曜にユニバーサルスタジオに行った。 <br />水景園の帰りに、睡眠不足と靴ずれを起こしていた妻の「一旦急行の始発の奈良まで戻って座りたい」という要望を、奈良行きの普通電車が発車するまでの約2分の間に理解できず、大和西大寺で急行待ちになってしまったため妻を怒らせ体調を悪化させてしまい、翌日の大阪プロレス、書道展見学が実行できず。<br />更に翌日のユニバーサルで、回る順番の吟味不足で妻が一番楽しみにしていた後ろ向き落下のジェットコースターに乗れなかった上に屋台の骨付きチキンも買えなかったため、またしても…を覚悟したが、前向きのジェットコースターで喜んでくれ、食事も園外のインドカレー屋（生前の桑名正博氏行きつけとのこと）が美味だったため、楽しく一日を終える事ができた。俺はジェットコースターでグロッキーになるも次回は恐らく恐怖度10倍の後ろ向きに乗る約束をしてしまい若干の憂鬱。 <br />ということで、「引っ越すまでに関西で観光したいリスト」の5項目を消化。残りは滋賀方面が若干増えてしまい、13項目。残り2ヶ月半で来神5回程度と考えると、完全制覇は厳しいか。次回は、淡路ワールドパークONOKORO、六甲山バーベキューの2箇所予定。しかし台風3号接近中で、どうなることやら。',1371016560,1375985632,'楽太郎'),(5,'週末の姫路観光と六甲バーベキューを振り返って。相変わらず欝気味。','週末を神戸で過ごし、始発の新幹線で東京へ戻ってそのまま仕事に行った。<br />相変わらずこの月曜が死ぬほど辛い。特に今回は、3週間（正確には後18日）会えないので、本当に死んでしまいたい気分。これも8月いっぱいの約束なので、まああと5回くらいで終わる予定。終わってしまったら2度とこんな往復生活もすることはないだろうから、たぶん、いや絶対思い出して切なくなるんだろうと思う。女々しいんだよ！<br />今週末は、姫路の太陽公園と六甲山バーベキューに行った。相変わらず楽太郎は外では家に帰りたそうにしていた。太陽公園は、今年最大級の衝撃。<br />東京返ってきて、相変わらず坂口恭平日記を読んでいる。こっちのほうが最大級の衝撃だよな。',1371468420,1376540928,'楽太郎'),(6,'日記サイト開発記録・天地開闢','amon2というPerlのWAFを使ってWebアプリを作っている。<br />日記を投稿して、閲覧するだけのアプリ。<br />今のとこ、投稿画面が公開されてしまっているので、ログイン機能を付けないといろんな意味でやばい。<br />っていうか、本文を250文字しか書き込めないので日記の体を成せない。一旦造り直さんといかん。<br />あと、今は投稿フォームにサーバー上のemacsで書いた日記をコピペするという阿呆なことをやっておるので、ゆくゆくはemacsから直接投稿できるようにしたい。C-X C-SしたらDBにinsartとかupdateできるような。',1371544020,1376540973,'裸の太陽'),(11,'日記サイト開発記録・ログイン機能実装','日記アプリの投稿画面の切り分けとログイン機能の実装が一応形になった。<br />WAFで認証する場合のセオリーを全く知らないので、特に何のCAPNモジュールも使わず、DBに登録したID,PASSを直接見て表示を切り替える原始的な認証になってしまい、認証で弾かれた場合の表示がなんともまずい感じ。。なにかいい方法はないだろうか。<br />とりあえずは入力フォームがWebのさらし者になる事態は避けられたので、当面は問題無いだろう。<br /><br />手探りで実装してるうちにamon2の扱い方も段々わかって楽しくなってきたので、日記以外のサイト内容も充実させたいという欲が出てきた。とりあえずトップページをかっこ良くデザインしようかな。',1371806809,1376541052,'裸の太陽'),(12,'日記サイト開発記録・CRUD機能完成す','とりあえず長文を投稿して表示するという日記アプリとして最低限の機能の実装ができたので、過去数日分の文章をDBに突っ込んだ。<br />次は投稿の閲覧画面と入力画面を分けて、入力画面にはログイン機能を持たせないといけない。',1371723417,1376541010,'裸の太陽'),(13,'とあるサイト管理人へ宛てた”イリヤの空”に関する考察文','お返事ありがとうございます！<br />百人百様の解釈や受け止め方があると思いますので、管理人様の仰ることは全く正しいと思います。<br />ただ、やっぱりこの作品を読んで感動した自分の解釈と照らし合わせると、管理人様の解釈は「それだけはちがうだろう」っていう気持ちをどうしても抑えられなかったので、けんか腰と誤解されることを恐れつつも、もう一度だけ書き込みさせて頂きます。<br />揚げ足を取っているつもりは本当にないのですが、「自己犠牲による感動」っていうことが1000%納得出来ないのです。確かにイリヤは「全人類の代わりに自己犠牲を強要された女の子」でしたし、最終的に自己犠牲によって世界を救っています。でも、この物語が（主人公の浅羽ではなく）イリヤに関して書いていたのは、”理不尽に自己犠牲を強要されるだけだった人生”という自己評価を”大切な人を守るために全力で生きた人生”として肯定できるまでの過程だったと感じました。最後の出撃シーンで飛翔するイリヤに微塵の悲壮感も感じられないのは、自己犠牲という鎖から浅羽の一言によってようやく解放され、生まれて初めて自分の意志で飛んでいるのだという開放感しか感じていなかったからだと私は思います。それを見送る浅羽（と読者）が感じる喪失感は、成長して自分の手の届かない場所に旅立った者を見送る寂しさではなかったかと。<br />作者は徹底して、”自己犠牲”という考えにファック！と言っている気がします。結果的には、イリヤは榎本の描いた絵のとおりに自己を犠牲にして世界を救いました。でも、そこには最早自己を犠牲にしているという感覚はありませんでした。それはずるいといえばずるいやり方です。だからこそ残されたものは安直にイリヤの行為に感動など出来ず、榎本に至っては自殺に近い行動を取ってしまったのではないでしょうか。浅羽（と読者）は、イリヤを全肯定した後は、ただ彼女の選んだ行動を見届けるしかできない、それが突然やって来て去って行く一夏そのものだったんじゃないかと、そういう自分的解釈でした。<br />個人的に、”感動”とか”泣き”そのものを最終目標にした作品って、反吐が出るんです。物語で一番に来るものはテーマ（この作品だと”夏と空と初恋”）であって、感動云々はあくまで副次的なものだろうって…。この作品でもちろん感動したし泣きましたし、それを求める読書っていうのももちろんありだとは思うんですけど、でもそれだけだとあまりにもったいないというか…。特定の感情の換気を狙うのではなく、あるテーマ概念を描ききるからこそ、受け手のありとあらゆる感情を換気出来るというのが、豊かな読書体験（なんか偉そうですね、すいません…）だと思うので、この作品はそれをやってくれたなあと。。もちろん管理人様の仰るように、最後のシーンがまずあっただろうということに依存は無いですが、その先に作者が目指したのは”感動”なんてちんけなものではなく、”夏”そのものだったのではないかと思うのです。<br />喪失感に関して補足すると、イリヤは人生を肯定出来て、その瞬間から浅羽にも手の届かない所に行ってしまった。そのことに関して、浅羽（と読者）は喪失感を感じている（はず）なので、イリヤのその後の生死はこの場合もう関係ないんじゃないかなと。イリヤが自分の人生を浅羽のために生きて死ぬものとして肯定した時、もはや浅羽の存在そのものを見る必要はなくなったんだろうと。初恋って、まあそんなもんというか、自己完結しがちな自分勝手なものでもありますよね。そういうほろ苦い初恋への喪失感ってことなので、まあ物語上、イリヤはみんなのために戦闘して死んでるわけだからほろ苦いも糞も無い、悲惨な自己犠牲の話ではあるんですけど、でも、初恋のあの子の”その後”に触れるなんて野暮な話ですぜ旦那。という、作者の最高に粋なはからいと私は受け取りました。<br />長々ごめんなさい＞＜。結局、自分の感動を誰かに伝えたかっただけで管理人様のコメント欄を汚してしまったような気がします。迷惑ならどうぞ消しちゃってください。自分勝手で申し訳ないですが、改めてこの作品に対する感動を整理出来て良かったと思っています。どうもありがとうございましたm(_ _)m',1368348540,1376540520,'楽太郎'),(14,'ある休日の記録・散髪、小金井公園、本屋、シーボーズ、すた丼','午前11時頃目が覚めた。正確にはその30分前の目覚ましで目を覚まし、布団でだらだらした後、11時きっかりになったのを見計らって妻に電話をかける。<br />妻「もしもし…」<br />俺「おはよう。寝れた？」<br />妻「うーん、あんまし…」<br />どうやら昨夜もなかなか寝付けなかったらしい。この場合彼女はあと数時間は経たないと覚醒出来ないので、とりあえず１時間後にまた電話することにして電話を切る。<br />この後13時頃までにシャワーを済ませ、２回同様のやり取りを経て妻が覚醒したのを確認し、プリンスのエサを交換して家を出る。マンションから出てみると久しぶりの快晴で、気温も結構高い。一瞬雨対策でブーツを履いて来たことを公開するが、そのまま俺は都電の駅へと向かった。<br />大塚で山手線、新宿で中央線快速へと乗り換え、武蔵小金井駅を目指す。<br />15時前に武蔵小金井に到着し、駅前からすぐの所にある美容室Ashで、妻が東京時代にお世話になっていたHさんに2回目のカットをしてもらいつつ雑談をする。<br />「僕は4年前に原宿で結婚式挙げたんですよ。竹下通りからちょっと入った所にある小さな教会で式挙げて。ほんとに小さい所だったから友達とか全然呼べなくて、親族だけでしたね。」<br />「へえ。原宿って高くないんですか？」<br />「それが意外と安かったんですよ。挙式と、夕方からレストランで友人も呼んでやったパーティー合わせて250万くらい。大体300万くらいですもんね、相場は。っていうか東京のほうが地方より安く済んだりするんですよね、意外と。」<br />この250万が安いという感覚が、貧乏泥団子の俺にはピンと来ないが、それにつけても結婚式というのはなんであんなに金が掛かるのか、全く理解出来ない。<br />Hさんは気さくに話してくれるのに、仕事が驚く程速い。普通の美容師がちまちま切る所を、ばっさばっさと刈り込んでくれるので一瞬で終わってしまう上に、仕上がりにも全く問題ない。カットだけで6000円することは痛いが、３ヶ月に一度ぐらいだったら武蔵小金井まで通う価値は十分だと思う。Hさんが俺たち夫婦と同い年と知って、余計親近感が湧いた。<br />3ヶ月伸ばし放題だった小汚い長髪とおさらばした俺は店を出て、向かいの本屋へ入った。妻に頼まれていた多摩地区の生活誌\"多摩らび\"を探す為だ。しかし最新号が見つからないので、親父に声をかける。<br />「すいませーん、この多摩らびの最新号を探してるんですけど。」<br />「はいはい…あれぇ、うちは毎号必ず入荷してるはずなのになあ。」<br />どうやら親父は入荷しているはずと思っていたのだが、店に見当たらなくて困惑しているようだ。今月号から季刊になったり雑誌名が\"たまらび\"に変わったりしているのでもしかすると仕入れていないんじゃないかと思ったが、とりあえずバックナンバーを１冊購入し、駅前の中型本屋もチェックすることにする。<br />本屋の親父によると多摩らびはそうそうどこでも手に入る本ではないということだったが、そのスーパー2階の中型書店では壁にバックナンバーから奇麗にディスプレイされており、無事最新の小平特集号を購入できた（しかし値段が500円から750円に値上がりしていた！）。その後１時間程、SoftwareDesign７月号と、広島で父親が母親を殺して死刑囚になってしまった人が書いたノンフィクションを立ち読み。作者は俺より３つ下で、恐らく死刑制度存続に関するなんらかの活動をしているものと思われるので、またネットで調べてみようと思う。<br />本屋を出たらすでに17時を過ぎてしまっていたが、夏至の翌日なので空はまだまだ明るい。すでに夏色の濃い西日と、竜の巣を彷彿とさせる猛々しい積乱雲になんとも気分が高揚し、小金井公園を目指して駅の北を目指す。途中、明日の都議選投票に向けた駆け込み演説で駅前には複数の候補者が集まっており、耳障りな拡声器の声にいらつきつつ、随所で目を光らせている一目でそれと分かるSPの美しい立ち姿に見とれつつ、足早に北を目指す。<br />20分程歩き前方に緑が見えて来たとたんに、空気に水と植物の匂いが混ざってきた。信号の向こうの歩道沿いには竹薮らしきものが見え、その奥には森と言っていい公園の緑が広がっていた。よく見ると信号機の下に\"小平市\"という看板がぶら下がっている。そうか、ここからは小平市なのか。訪れた土地への第一印象を重視する俺は、ここに住むことになるかもしれない。と思った。小金井公園は、手入れのあまり行き届いていないぶん植物がワイルドに茂っており、区内のコンクリートの合間に土の島があってお情けで生えるのを許された木々が健気に頑張っているような悲しい公園より魅力的に見えた。空を覆った木々の枝、端の見えない敷地、芝生というか草むら。木立を縫ってなかなか達者な尺八の音が聞こえてくるのだが、よくよく聞いてみると「南国土佐を後にして」ではないか（笑）。妻との思い出の曲にこんな所でお目にかかれるとはと嬉しくなってしまい音のする方へ向かってみると、中年のおじさんが演奏している。思わず近寄ろうとしたのだが、接近する不審者に気づいたおじさんは、自転車にまたがって逃去ってしまった。<br />こうして、俺の久しぶりの東京で一人過ごす土曜日は過ぎて行った。過ぎ去った土地や人には、望めばいつかまた会えるかもしれない。でも、過ぎ去った時間は、一体どこへ行ってしまうのだろう。ウルトラマンのエピソードにあった怪獣墓場は、宇宙空間に漂う、記憶の集積場であった。集積した過去の記憶達は、シーボーズという化け物として具現化し、ある日突然地球に帰って来る。しかしそれは復讐の為ではなく、シーボーズは宇宙を見上げては、元いた場所へと帰りたいとただただ泣くばかりである。少年の俺は、<br />「あいつは冷たい宇宙空間を、暖かな我が家だと思っているのかもな。」<br />というイデ隊員だかなんだかの言葉に戦慄しつつ、悲しさと懐かしさの入り交じった不思議な気分に包まれていたように思う。<br /><br />きょうの日記は坂口恭平日記を真似して、一人称の小説風に書いてみた。小説も文末は過去形の箇所が多いが、そればかりだと時間の進行感が失われてただの記録文章になってしまうということに気づいた。意外と難しい。お手本にしたいと思っている「アンダーマイスキン」を読み返して、先人はどうやっているのか、そこのところをチェックしてみよう。あと、比喩力が貧相すぎる。比喩に頼らないやり方というのも必要な気はするんだが。やっぱり小説は小説はかかないとうまくならないと思うので、しばらくはこの形で書きたい。大変だけど。<br />ちなみに夕食は、池袋ですた丼食べて帰りました。一人休日の鉄板や。',1371907468,1376541142,'楽太郎'),(15,'ネタが無いなりにひねり出した日記。ジス新作ニコ動も見た','おれは今、部屋のソファーにゆったりと腰掛けてこの文章を書いている。この文章、即ち日記だ。日記を書くという行為は、なかなかにナルシスティックな行為だ。自分の一日の行動の記憶を無理やり脳から絞り出し、未来の自分も含めた他人の眼前に晒せるようフィルターをかけつつも、なるべく筋の通ったもストーリーをでっち上げなければならない。なかなかに頭を使うので、小説の練習にも、ボケ防止の健康法にもなるだろう。<br />ところで俺は、以前まで日記をつけてももちろん誰かに見せたりしたことなどない上に、それらの文章はほぼ例外なく抹消してきている。人生の記録として書いていた場合、そうやって抹消してしまったら全く意味が無かったとおもうので、だったらいっそのこと多少フィクションが混じっても、人に見せる前提で書いたほうがいいのではないかと思うようになった。性格な自分の記録ではなくなるものの、というかそれが完全なフィクションであったとしても、変わり映えのしないつまんねぇ日々の記録なんかより、日々少しでも脳を絞ってひねり出した何らかのストーリーのほうが、よほど後世に残す価値が有るように思う次第でやんす。やんすって変換したらJansって出たがこれは人名かな？<br />今日はほぼ一日中家の掃除。夕方一度だけ、近所のスーパーに半額の惣菜を買いに出た。このサイトの見栄えを良くしたくて昨夜からtwitterbootstrapをいろいろいじっているが埒があかない。ちゃんとドキュメントをよむべきだ、と俺は苦虫を噛み潰したような顔でつぶやいた。ギムレットも飲み干した。今日の文章はブラウザのtextareaに直接ベタ書きしてるんだが、emacsのキーバインドがそのまま使えることに気づいて、俺は一人悦に入っている。<br />「なあんだ、だったらわざわざemacsで書く必要全然無いじゃん。」<br />馬鹿言っちゃいけない。emacsは立ち上げることに意味があるのだ。もちろんこのアプリや日記を書くためのemacsは、tmuxで立ち上げっぱなしである。<br />今日も酷い文章を描いてしまった。昨夜ニコニコで見た、ジスカルド作の新作動画が素晴らしかった。俺もああいうものをWebでひっそり作って、自分の大切な人達だけに見せながら生きて行きたいのだが。',1371993521,1376541176,'楽太郎'),(16,'泉和良の音楽','しはきしはき<br /><br />って何かの暗号化な。<br /><br />KazuyoshiIzumiの音楽では、ToMorningがダントツで好きだ。微かに硬質なリフのメロディーの合間から、温かな四つ打ちのリズムがやさしく立ち上がってくるあたりで、霧がかった公園のひんやりした空気に朝の気配が混じってくる様子を想像する。宇宙中心公園は、地球上のどこにでも存在する。<br />会議中に何を書いてるんだ俺は。',1372067185,1376541207,'楽太郎'),(18,'檄！','昨日今日と、日記をちゃんと書いてない！毎日書く修行と決めたのに、怠慢だ！でもいいのだ！昨日今日はこのサイトの実装をめちゃ頑張ったのだ！おかげで、サイドバーのアーカイブ一覧がかなりできたのだ！だからさぼりじゃないのだ！明日も頑張ろうね、楽太郎☆（ゝω・）vｷｬﾋﾟ',1372245098,1376021168,'楽太郎'),(19,'Perl萌え','しかし、やっぱりPerlはすごいのだ！<br />さすがはイーガンが、ヒロインの使用するメイン言語に選ぶだけのことはあるのだ！<br /><pre class=\"prettyprint\">　ぼくは目の前のメモ用紙に調和関数の等位線を落書きしながら、「なにか趣味はあるの？」ときいた。「複素解析学以外で」<br />（略）<br />　「Perlのスクリプトを書きまくること」とフランシーンは答えた。「全然複雑なのじゃないけど。ガラクタにすぎないから、フリーウェアとして配布してる。とても気分が安らぐの」<br />　ぼくは、なるほどというようにうなずいた。彼女は、わざと面白味のない話をしているのではないと思う。ぼくにもうほんのちょっと、踏みこんでほしいのだ。<br />（短編「ひとりっ子」より）</pre>そうなのだ！Perlは実用だけじゃないのだ！萌え言語でもあるのだ！<br /><br />このあと”ぼく”とフランシーンはめでたく結ばれるのだが、数年後、中東の放射能汚染地域での研究活動中の不注意により子供を流産してしまう。<br />心に深い傷を負ったふたりは（あの時ぼくの◯◯◯の皮の中に劣化ウランの塵が入り込んでいて、それがフランシーンの子宮に入って受精卵に放射線を浴びせた結果…etc。こんな感じで”ぼく”は想像しうる世界線の可能性に病的に固執するようになっていく。）さらに数年後、量子脳を搭載したアンドロイドの”ひとり娘”を養子にするのだが、さらに数年後、”ひとり娘”は悲惨な犯罪に巻き込まれてしまう。<br />この事件をきっかけに、”ぼく”はむすめの量子脳から無限の量子宇宙分岐の可能性を消去する研究に没頭していく。<br />全てはむすめの絶対安全な唯一の世界線を確定するために…。<br /><br />ってな筋だった気がする。<br />量子分岐の抑制に成功してこの世界で絶対に分岐しない唯一の存在になった”むすめ”は世界を苦痛から救うべく時空を超えたハードボイルドな救出作戦を展開するｗ（まどか☆マギカっぽいな。案外元ネタに使われてたり…）。今回の救出対象は同性愛の罪で投獄され、非人道的な拷問によりまさに廃人化されんとする天才物理学者…その名はアラン・チューリング…！…！？www<br /><br />という続編もある。<br />この「ひとりっ子」、イーガンの中でも大好きな作品なので、長編化しないかなあとか思ったり。<br />ルミナスとか、微妙なシリーズ化してる中編って意外とあるんだよね。<br /><br />まあ、最近はこの量子宇宙らへんのテーマってもう書いてないっぽいから、まあもう新作は読めないでしょうけど。<br /><br />しまった、Perlの話で技術ネタに書いたけど、これは読書ネタだね。',1372245661,1381119425,'裸の太陽'),(20,'坂口恭平、妻から\"1983\"風のインスピレーションを得る','24日の坂口日記より抜粋<br />~~~~~~~~~~<br />その姿は、２３世紀、人間たちの感情、癖、内奥の言葉までを完全に管理している国家から時々送られてくる、意味不明のメールを読み取ろうとしている女優に見えた僕は、再び文字の世界へと飛び立つ。<br />~~~~~~~~~~<br />なんかインスピレーションを誘発しそうな文章だったので、メモ。',1372302005,1376540604,'楽太郎'),(21,'楽太郎メロス(駄文)','楽太郎は激怒した。<br />できたばかりのサイトの投稿フォームに打ち込んでいた今日の日記が、たった一度のキーボードミスで消え去ってしまったからだ。<br />「これは明らかな仕様ミスだ」<br />黒いひげを怒りにプルプル震わせつつ、楽太郎はつぶやいた。<br />しかし、彼は本当は知っていた。この悲劇は、仕様のせいではないことを。textareaに長文をベタ書きし、ついつい使い慣れたEmacsのショートカットキーを連発していた自分が悪いことを。<br />憎しみという感情の虚しさを自覚できるくらいには知的な人間である楽太郎は、エントロピーが寄せては返す電子の海へと消えていった文字たちに思いを馳せつつ、またつぶやいた。<br />「僕、犬じゃないよ。」<br />あ、さっきの文章消えてなかった。<br /><br />先週の週明けから作り始めたこのサイトだが、日記の書き込みと表示、ログイン機能、サイドバーからの月別表示といった最低限のブログサイトとしての機能はなんとか実装できた。Google先生と二人三脚でここまで来れたことに、ある種の感慨を禁じ得ない。わけないけど。<br />まあ、適当にやっててもそれっぽいものが作れるという、PerlとWAFの威力を思い知りました。これで本当に心置きなく日記を書けるので、ほらほらどんどん書きなさいよ！書くって書いたんだから、ちゃんと三人称視点フィクション風の文章で書きなさいよ！<br />ここまで書いたところで、楽太郎の頭の中から、続きの文章が消えた。無意識のうちに指が、Ctrl-Hというショートカットを打ち込んだ。<br /><br />改行復帰<br /><br />先頭へ戻る。',1372325334,1376541416,'楽太郎'),(34,'日記サイト開発記録・ユーザー別投稿機能の実装','午前1時頃神戸〜東京間の定例通信を完了したのちとりかかった、当日記ページのユーザー別日記投稿機能が、やっと完成した。あとでgithubにもpushしとく。<br /><br />ちょっと詰まった点としては、<br />・user_tableからユーザー名とパスワード指定でtengでselectしようとするとエラーになったこと。引数同じでsingleにメソッドを変えたらエラーなくなった。まあ機能的にはそっちのほうが適切なんだけど、エラーになる理由をちゃんと把握できていない。<br />・あと、メソッドの最後でテンプレートをレンダリングしてる箇所をコメントアウトしたら、エラーになった。何も返さないとエラーになるってこと？<br />・認証画面のコントローラーで取ってきた表示用のユーザー名を、いったん投稿画面のテンプレートに渡して、hiddenでpostした後、投稿表示のコントローラーでコンテキストから取り出して使った。このやり方が定石なのかどうかがわからない。コントローラー同士で変数の値をやりとりする方法ももちろんあるんだろうけど、グローバル変数ぐらいしか自分では思いつかなかった。<br />・テンプレート(Xslate)の条件分岐で、Perlの文法使えるんだからと思って\"eq\"を使ってたらはまった。\"==\"にしたら問題なかった。<br />・あと、テンプレートでループと条件分岐を組み合わせようとしてもなんかうまくいかない。極力ループとかはコントローラー側でやるべきなんだろう。<br /><br />諸々理解できないまま進めているが、それでなんとか思ったことを形に出来てるとこが、WAFの素晴らしさか。<br />さっそく、友人のユーザー情報を登録したので、ぜひ書き込んで貰いたいものだ。',1372539922,1376021141,'裸の太陽'),(36,'日記サイト開発記録・今後の修正と機能追加開発について夢想','githubへのpushと、友人へのメール完了。<br /><br />今のところの開発リストは、<br />１，全部表示と月別表示のテンプレートの統一。<br />　→年と月の変数が渡ってきたら全部表示という切り分けでオケィ？<br />２，投稿修正機能の実装。<br />　→entryテーブルに、utimeカラムの追加必要？<br />３，著者別の投稿表示の機能<br />　→全部表示と月別表示のテンプレートが一緒だと、ちょっと工夫する必要がある？<br />４，トップ画面のデザイン（静的ファイルの表示）<br /><br />うーん、何か1個忘れてる気がするのだが…。<br />だめだ、ものすごく眠い…。',1372543843,1376020999,'裸の太陽'),(37,'日記サイト開発記録・mysqlのトリガーでエラー','思い出した。<br /><br />投稿へのコメント機能の実装。<br />　→コメント専用のテーブルがいるかな。tengでjoinとかするには…<br /><br />あと、問題点として、sql/mysql.sqlに以下のトリガーsqlを追加するとエラーになってしまう。<br />------------------<br />DELIMITER |<br />CREATE TRIGGER before_insert_entry BEFORE INSERT ON entry FOR EACH ROW<br />BEGIN<br />  SET NEW.ctime = UNIX_TIMESTAMP(NOW());<br />END;<br />|<br />DELIMITER ;<br />------------------<br />さてさて何が問題なのか…。',1372544559,1376019943,'裸の太陽'),(38,'夢の木材整形','産総研で研究されている、木材の流動整形技術をテレビで見た。原理的に、木材をどんな形状にでも整形できるため、将来的には車や電化製品で使用されているプラスチックや金属部品を置き換えることまで可能になる！？<br />これ、モバイルハウスとの相性が抜群だと思う。ハウスの設計図通りに木材を整形したら、後は組み立てるだけ。工具も釘も技術も必要ない。組立手順と材料のセット販売なんかもいいんじゃなかろうか。<br />安い山林を買って自前の木材を栽培し、プログラミング可能な成形機材を用意したら、どんな建築でも可能になるだろう。<br />早く量産されないかなあ。',1372585880,1375950569,'楽太郎'),(40,'暗殺者の夜から幾星霜','日記を書きながら、くるりを聞いている。subsonicでワールズエンド・スーパーノヴァを聞こうとしたら、ばらの花が始まってしまった。日曜の夜にひとりで聞くと一気に持っていかれてしまいそうでやばい。<br /><br />きのうは昼過ぎに起床し、Tと恵比寿駅で合流しbaticaというクラブへ行った。2階のフロアはたぶん10畳ぐらいしかない小さな店だが、灰野敬二とDJ nobuが予約1,500とかなり安く、店員もみな誠実そうで好印象の店だった。<br />肝心の灰野氏DJはやはり灰野という感じ。なぜか薄いすだれ？のかかったDJブースの中で、シャンデリアの光でうっすら浮かび上がる灰野敬二のシルエットを眺めながら3時間タコ踊り。爆音のノイズとポリリズムの中に意識を潜り込ませると、自分がどこにいるかを忘れて音楽とは関係ないことばかり考えていた。そういう力があるんだろう。灰野敬二は未だに革命を目指している。一瞬の休みもなくCD-RとCDJを操作し続ける姿は、銀色の背中の甲虫の姿で、芸術活動と言うよりは革命の種を蒔く準備に余念のない工作員のようであった。しかし70代？であれだけの時間ぶっつづけでやり続けるのはすげえな。ベジタリアンの成果か？仕事を終えた灰野敬二は、荷物をまとめるとあっという間に客の間から出口へと消えていった。<br />続けて登場したDJ nobu。なんだか灰野敬二を意識したようなひたすらストイックで熱量低めのプレイが続く。途中一度だけアガる時間があったが、すぐにまた鬱プレイに戻る。結局根負けした俺達は、空腹に負けて6時間過ごした革命道場を後にした。<br />その後日高屋で飯を食いながら、nobuと小林信彦の相同性（主に顔の）について、政治と選挙について話し合った。2014年熊本市長選、坂口恭平は果たして出馬するのか。バンクシーによる選挙ポスターに果たしてお目にかかれるのか。<br />帰宅途中で妻から電話。そのまま2時間ほど日時定例報告会。以外な人が肉欲に溺れているようだが、肉体が健康な証なのか。<br />長電話しすぎとクレームが付いたので、明日からは気をつけます；；<br />その後朝7時まで当サイトの構築。プログラミングハイで朝まで楽しく過ごす。<br />14時過ぎに起床。顔だけ洗ってアパートのトランクルームを予約しに、事務所へ。対応して頂いた職員様は巨乳であった。何事も程々が一番。<br />さらにハート引越センターへの見積もり依頼と淡路ワールドビレッジへの諸々予約電話を済ませ、妻へのハガキを書いた。<br />食事は何ヵ月前か忘れたが、ずっと冷凍庫に眠っていたピザの残りを食べたので、まだ一歩も家を出ていない。<br />これから風呂に入って洗濯をする。<br /><br />くるりはようやくワールズエンド・スーパーノヴァを歌っている。',1372597022,1375950656,'楽太郎'),(41,'viva!','viva 7月！<br /><br />7月と8月は1年のワンツーフィニッシュや。<br /><br />熊を放ちたい気分。',1372641565,1376021782,'楽太郎'),(42,'残業・新人・恵比寿までの妻からの電話','今日も残業で帰りが遅くなった。明日の朝までと頼まれていたデータの出力のためのスクリプトを書いていたが、エクセルファイルへの出力がうまくいかない。結局ファイルへの出力は諦め、データを標準出力へダンプし、頑張ってSQLで数えた値と比較して一致していたので、とりあえず良しとなった。<br />今日から新人がチームに参加してきたため、これからは教育もしなければならない。人に教えるのは好きだけれど、難しい。明日から遅刻は厳禁だなあ。<br />22時前に職場を出た所で、神戸から電話。昨日からお母さんとお兄さんが泊まりに来ていたので今日も仕事は休んだため、早く電話をかけてくれた。電話で話しながら、そのまま恵比寿まで歩いた。最後は離島の話になったが、愛知県のクワガタの顎みたいな部分の湾の中に、佐久島という島があることを知った。ネットで調べたところ、ディズニーランド3つ分の面積で、住人は200人くらい。島の大部分が里山で、モノリスみたいなアートのオブジェが大根畑の中にあったりして、なかなか良さそうに見えた。離島とアートの組み合わせはこの頃よく聞くが、何なのだろう。<br />恵比寿の日高屋で遅い晩飯、ニラレバ定食。うまし。<br />恵比寿駅で電車に乗る直前に、また妻が電話をかけてくれたので、また10分ほど話す。<br />結局都電の終電を逃したので、大塚から歩いて帰った。今日はよく歩いた。',1372697581,1376016387,'楽太郎'),(50,'日記サイト開発記録・投稿の修正機能実装','仕事終わってから、そのまま職場で当サイトのコーディングをした。<br />今日は投稿の修正機能を実装した。めちゃくちゃ急いで書いたから、かなりソースが汚くなった。たぶんバグがありそう。この程度で3時間もかかってるし。。<br />それでも編集できるようになったのでとりあえずよし！<br /><br />あ、バグ発見…<br />修正するたびに改行タグが追加されとる。。<br />帰ったら修正しよ―と思ったけど、今直した。と思ったけど、今度は編集ではスペースが改行に変換されない。まあ帰りながら考えるか。',1372767560,1376021831,'裸の太陽'),(55,'日記サイト開発記録・レスポンシブデザインへ','全体のレイアウトを、スマートフォンやPC向けの画面を自動で切り替えてくれる、レスポンシブデザインに対応させた。ヘッダー内にたった2行追加するだけで、スマホの画面に収まるようレイアウトを調整してくれる。twitter bootstrap最高に便利。スマホだと画面からはみ出してしまっていたメニューバーも、スマホではアコーディオンで表示してくれるようになった。<br />この対応をしてから、たまに日記一覧ページのhtml表示が変に崩れるバグ？も消えた…。<br />あと、編集画面では、entryのテキストを、htmlタグをそのまま出して、書き込み時は投稿時のように\"\\n\"を改行タグに変換しないようにした。ちょっと見にくくなるけど、まあこれでいいんじゃないかな。<br /><br />amon2いじりだして、過去最高にPerl書くのが楽しい☆（ゝω・）vｷｬﾋﾟ',1372839447,1376021906,'裸の太陽'),(56,'無題','JSのオブジェクト指向に関するわかりやすいスライド。<br /><br /><a target=\"_blank\" href=\"http://www.slideshare.net/yuka2py/javascript-23768378\">http://www.slideshare.net/yuka2py/javascript-23768378</a><br /></br>あと、イディオム集<br /><a target=\"_blank\" href=\"http://nmi.jp/archives/488\">http://nmi.jp/archives/488</a>',1372925696,1372935854,'裸の太陽'),(57,'朝練初参加','今日は会社の有志でやっている、プログラミングの”朝練”に参加するために朝6時に起きて、会社近くのマンションに来た。<br />昨日はなんだかんだで2時間ぐらいしか寝ていないが、不思議と全然眠くない。俺以外には一人しか来ていない。今のところ各自勝手に勉強している感じなので、とりあえず今日はこのサイトの実装の続きでもやろうかな。<br />夕方仕事が終わったら、そのまま神戸。週末は天気が微妙だが、晴れてくれたら、奈良と布引ハーブ園に行く予定。一日がんばろう。',1372979740,1376021757,'楽太郎'),(59,'日記サイト開発記録・静的ファイルの表示','このサイトをplack upしても、静的画像へのリンクがnot foundになってしまっていた問題が解決した。<br /><br />uri_forに渡す相対パスで、staticの下にpcまたはadminを入れていたのだが、それは不要だったようだ。削ったらちゃんと表示されるようになった。<br />これで画像の投稿なんかもできるようになるな☆（ゝω・）vｷｬﾋﾟ<br /><br />あと、投稿の編集機能を実装できたので、削除機能も必要だ。なんせ今はSQLで消しているのでめんどうでしゃーない。、',1372981201,1376021975,'裸の太陽'),(60,'無題','<br /><a target=\"_blank\" href=\"http://www.ic.unicamp.br/~meidanis/courses/mc336/2006s2/funcional/L-99_Ninety-Nine_Lisp_Problems.html\">Lispのプログラミング例題集。</a><br /><br />答えもすぐ見れて良い感じ。<br />一台解くごとに、問題と回答をPerlで書きなおしてみるのもいいかも。<br />さっそく神戸行きの新幹線でやってみようかな。<br />来週から部活でもやろうかな。',1373008876,1373010810,'裸の太陽'),(61,'無題','サイトのトップページが私好みのデザインになった。<br />私好みだ！<br />特にスマフォだと良い感じ！',1373013665,NULL,'楽太郎'),(62,'無題','欲しいが金がなくて買えない本<br /><br />・未来の働き方を考えよう<br />    ちきりん<br />・武器としての書く技術<br />    イケダハヤト<br /><br />梅田駅でナボコフのロリータを、月末の読書会に向けて購入。以前所有していたのと同じ新潮文庫。解説大江健三郎だったって気づかんかった。痛い出費だがいた仕方ない。',1373032238,1373033024,'楽太郎'),(63,'読書日記・ケモノシマ','三ノ宮で集合した後の電車で、妻が買ってきた漫画を読んだ。<br /><br />・ケモノシマ<br />    伯林（はくばはし？）<br /><br />林間学校で離島に来ていた中学生？達が、凶暴化した犬に殺戮される。ゾンビとバトルロワイアルを足して犬にしただけの漫画だが、絵柄が独特。無垢な表情で残虐の限りを尽くす犬達がかわいすぎる。一巻が終わっても、なぜ犬が凶暴化したかはわからない。そのあたりは、進撃の巨人以降って感じ。二巻は秋。',1373036614,1376474599,'楽太郎'),(64,'無題','★読書日記<br />ロリータ第一部四章まで。<br /><br />ハンバートはフランス、リヴィエラのホテル経営者の一人息子？で、割と幸福な少年時代を過ごしたようだ。<br />しかし、思春期までの間に、少なくとも二度の挫折によるトラウマを負っている。一度目は3歳の時の母親の死。二度目は13歳の時の初恋相手の少女の死。<br />特に、少女アナベルの死は、性の目覚めの相手でもあったこともあって、ハンバートの心に深い喪失感と挫折を刻み込み、その後の性的嗜好を決定づけることとなった。<br />第一の挫折は、まあ誰でも多かれ少なかれ持ってるものだから、どの程度ハンバートの人格形成に影響したかは、今のところわからない。',1373189403,1373248223,'楽太郎'),(65,'無題','★読書日記<br />出た。いわゆるロリコンの定義。きちんと定義済みなので、この範囲にあてはまらず使用されているものは全て誤用。<br /><br />ロリータ第一部五章<br />～～～～～～～～<br />九歳から十四歳までの範囲で、その二倍も何倍も年上の魅せられた旅人に対してのみ、人間ではなくニンフの（すなわち悪魔の）本性を現すような乙女が発生する。そしてこの選ばれた生物を、「ニンフェット」と呼ぶことを私は提案したいのである。<br />～～～～～～～～<br /><br />やっぱりニンフェットコンプレックスで\"ニンコン\"じゃキャッチャーじゃない。<br />悪魔とか生物とかいう表現の仕方には、女性嫌悪の疑いを感じた。僕は、女性嫌悪（言い換えると同性愛）的感覚に過敏になっている。あとマザコン。過剰反応じゃないかと自分でも思う。これっていったい何なのだろう。',1373190741,1373255166,'楽太郎'),(66,'無題','★作りたいサービス<br />・スクラップブック感覚でブログを作れる。<br />    写真を貼れる。<br />    レイアウトを簡単に自由に作れる。<br />     とにかくユーザーが自由に多彩にデザイン出来る。',1373193437,NULL,'裸の太陽'),(67,'無題','東京行きの電車の中で日記を書いている。<br /><br />今回は土曜日の雨、俺の体調不良、カメラのメモリ忘れ、<br />といろいろ駄目な感じで、結局予定していた奈良とハーブ園には行けずじまい。<br /><br />土曜日は、二人起きたのが15時くらい。雨がひどく、奈良飛鳥行は中止。17時くらいに三ノ宮に出て、おにぎりの居酒屋に行った。ここはおにぎり以外の料理が普通にうまかった。<br />ビレッジヴァンガードで恭平さんの本を二人で探す。結局何も買わず。途中雨の中立ち寄った家具屋の木の勉強机が良かった。<br />ツタヤでホラー系のDVDを借りて帰る。この日は出前ピザを食べながら、結局3本見た。良かったのは、稲川淳二が室戸岬の廃レストランに行くやつ。海辺の高台に立つ建物がとにかく異様。収録中の心霊現象は仕込みじゃないかと思わなくもないが、絶対に現場には行きたくない。。呪いのビテオは相変わらず爆笑。でも、帰って一人になったら思い出したくない。顔洗ってる時とか。。ひどかったのは、奇談。諸星大二郎大先生の生命の樹を奇跡の映画化。なんのための映画化？陳腐なCGと余計なサイドストーリーと阿部ちゃんのミスマッチで、原作にあった、これほんとかもっていう説得力がゼロに。。寝たのは5時くらいか。<br /><br />日曜日も15時に起きる。いったん朝起きたが、しんど過ぎて今日もゆっくりさせてもらう。17時くらいに出て、天王寺へ。キノコ料理の店で夕食。アボカドは飽きるが、キノコは飽きずに食べれた。阿倍野ハルカス前の立体歩道にはストリートミュージシャンが何人かいたが、デブの人の観客が三人とも女性で、それぞれがデブの人に熱っぽい視線を注いでいるのが印象的だった。がんばれデブの人。<br />帰りに阪急駅の紀伊国屋で欲しい本二冊と恭平にーさんのCDを購入。金のない俺に妻が少し奢ってくれた。ありがとう妻。喫茶店でそれぞれの本を読むも、シャンデリアの明かりが強過ぎて目が痛くなってしまい退散。<br />帰りの電車で更に読んでいたら、頭まで痛くなって来て吐き気もしだした。いったん帰って楽太郎の散歩がてらスーパーへ。頭痛が酷くなり、帰って少し横になった。楽太郎は呼ぶと来てくれるが、暑いのか、すぐに逃げてしまう。30分ほど目を休めたら楽になった。<br />その後、妻の作ったエリンギとしめじともやしのバターポン酢炒めを食べながら、黒沢清の叫を見た。あまり怖くなくて、最近だとまだ回路の方が良くで来ていると思ったが、それでも黒沢ホラーの通奏低音が垣間見えたりして、考えさせるところもあった。<br /><br />こんな感じで週末は終了。行けなかった飛鳥とハーブ園は、八月に必ず行きたい。<br />相変わらず週明けが、体力的にも精神的にもつらいが、妻とは金曜にまた会えるのが救いになるか。<br />これから東京に着くまでの2時間弱、仮眠を取る。今日はなぜだか、何時もの月曜に比べて乗客が多い。なぜだ。',1373234452,1373234618,'楽太郎'),(68,'無題','恭平さんの日記の更新が先月末から2週間ほど止まっていたので、海外でも行ってるのか鬱なのかと思っていたのだが、どうやら鬱だったようで、土曜から再開していた。<br /><br />～～～～～～～～<br />「梅山さん、また抜けました」<br /><br />「おっ、待ってたよ〜。本の宣伝いっちょうおねがいしまーす」<br /><br />今回は、一ヶ月以上伸ばしたい。<br /><br />さて、体を動かしはじめます。再び。<br />～～～～～～～～<br />坂口恭平日記　２０１３年７月６日（土）より<br /><br />投薬治療しなければならないような欝を僕は経験したことがないが、解決方法に”死”しか思い浮かばないような精神状態に陥ったことはある。<br /><br />「もういくら考えても、死ぬしかない！」<br /><br />ってなって、だいたいそうなるのは夜とか早朝なんだけど、一度眠るとなんでそんなふうに考えてしまったのか全く思い出せないというのがパターンだった。今思えば、軽度の躁鬱だったのだろうし、もちろん今夜そうならない保証なんてない。<br />だから、日記に書いてある、一週間のスパンで生きることへの閉所恐怖症的恐怖やそれを平気で行なっている（ように見える）人々への恐怖や敵意も、同程度とは思わないが共有していると思う。それなのに、そんな社会になんとかかんとかしがみついてやっていけてる事を思うと、これは相当やばいんじゃないかという気もしてくる。結局自分の内なる声、感性の一部を日々圧殺して、本来なら耐え難いはずの世界を生き延びているわけで、毎日国家運営のための殺人を行なっているようなもんだ。自分の中の多数派による、自分の中の少数派の虐殺。自分内天安門事件。それが毎日。',1373254207,1373947129,'楽太郎'),(69,'職場の後輩Y君は、恭平兄さんの電話番号まで知っていた！','五反田のちりばりで、夕食を食べた。職場の後輩のY君と。昼しか行ってなくて気になってたディナー980円を食べたくて行ったら、初めて店員さんに<br /><br />「いつも来てくれてありがとうございますｗ」<br /><br />と話しかけられた。<br />Y君とは、営業と開発で畑が違うものの、数週間前の飲み会の帰り道で少ししゃべったら美術に興味があるという話に共通点を感じてご一緒することとなった。<br />今日はもう眠いのであんまり書けないが、Y君は26にして既に自前のセーフティーネットを構築済みだ。素晴らしい。俺もついでにセーフティーして欲しい（笑）。<br />彼があまりに面白い人や話ばかりしてくれるので、こちらもラスボスを投入したつもりで恭平さんの本を出したら、<br /><br />「あ！坂口さんですか！」。。。<br /><br />なんと2年も前に奈良まで会いに行って直接話しをしたとのこと。まったく都会の連中はなんというアンテナ感度とフットワークをお持ちだことか。素晴らしすぎるので、僕もそういう友だちがせめて一人は欲しいなあと思った29の夜。',1373304683,1376020530,'楽太郎'),(70,'無題','選挙演説で一番腹立つのが、「お願いします！」ってやつなんだけど、あれはなんなのかね。<br />私欲を捨てて公益に身を捧げる議員に、こっちがお願いしてなってもらうのが本来の選挙だと思うんだ。<br />この国では、選挙期間だけ有権者に媚び売りまくって投票をお願いして議席を勝ち取るの？<br />そんな人は当選した次の瞬間から私欲の為に動くに決まってるよね。っていうか選挙活動自体が私欲のための活動なんだね。<br />選挙運動なんかやめちまえ。法律で禁止しろ。任期半年くらいにして、任期きれた議員には信任投票。不信任なら補欠選挙。<br />市民も常に政治をチェックしなきゃならなくなるけど、それが当たり前のことだろ。それが必要ないシステムのままで、投票率なんかあがるかよ。<br />そうやって選ばれ続ける議員なら、高給とりでも問題ない。昇給させても問題ない。職業政治家で何が問題あるの？<br />これって、ネットで投票できれば全然可能だよね。ITに疎い年寄りはどうすんのかって？投票できなけりゃ仕方ないっしょ。若者が行かない投票所で暇な老人だけが投票してるのが今の選挙だろ。その結果がこの有様だろ。若者が動かない限り若者が生きていける国にはならないんだよ。このまま絞られ続けんのかよ若者よ。<br />日本早くどうにかなれ。革命起きろ。。',1373367897,1373456608,'楽太郎'),(71,'無題','今の政治の問題って、要は年寄りによる年寄りのための政治だからってことに尽きるよね。<br />年寄りが若者の為に何かしようとするわけないじゃん。だって年寄りがいつか若者になることなんてあり得ないもん。全力で既得権守るのが当然だろ。俺がじじいになったら絶対そうするもん。<br />若者はいつか年寄りになるんだから、そうなっても生きてける社会を考えようとするよね。だから、政治は絶対若者がやらないとだめなんだよ！！<br />60年代の学生運動の世代が、今の価値観を形成しているということか。',1373369172,1373433424,'楽太郎'),(76,'無題','★読書日記<br />ロリータ第一部13章<br /><br />とうとうハンバートのあほがやらかした。母親の不在時に、ローとソファーでじゃれ合っていたのだが、あほなので、やらしいことしか頭にない。<br />もうとんでもなくあほなので、股間をローの尻に押し付け、ローの動きに合わせて腰をふりまくる（笑）。<br />信じ難いあほなので、とうとうそのまま射精してしまう（笑）。<br />超ど級のあほなので、ローはそのことに気づいてない上に、向こうの方こそ感じていたと思い込んでいる。<br />これだけくだらないことを、レトリック全開で文庫本9ページにも渡って書き綴るナボコフたん…(´Д` )',1373632466,NULL,'楽太郎'),(77,'読書日記・「未来の働き方を考えよう」ちきりん ','★読書日記<br />「未来の働き方を考えよう」ちきりん<br /><br />タイトルは\"未来\"だが、すでに現在目の前の問題として今そこにある働き方の問題。<br />第二次大戦後の日本を含む先進国の経済成長に伴って形成された価値観が、そろそろ失効しようとしている。先進国で進む高齢化と、先進国以外の新興経済圏の成長によって、従来の中流的な人生設計が、もはや夢物語になりつつある。<br />なので、生き延びるためには、人生に対する考え方そのものを更新しなければならない。<br />著書が提案していることは至ってシンプルだ。<br /><br />・平均寿命が劇的に伸びることによって、老後に備えた完璧な資産管理が不可能になる。なので、ここまで働けばオッケーという意味での定年も存在しなくなる。<br />・定年まで猛烈に働いて、その後やり残した夢を叶えるという人生設計を捨てる必要がある。<br />・40代で二度目の職業人生を選び直す。間欠泉的な労働の合間に自己実現も進める。あるいは夫婦で交して働くなど、定型に自分を当て込んで人生を送るのではなく、自己実現とその為に必要な資金や時間から逆算した職業や就労形態の選択を行う。<br />・要は、自分がどう生きたいのか。どういう人生が幸せなのか。その為の職業選択、キャリアプランニングから逃げないこと。<br />・いつかじゃなくて今やる。好きなことも、嫌なことも。<br /><br />学校卒業してから自分が悩み、選択してきた際に培ってきた哲学のようなものと、大体方向性が同じだった。結局、自分と同じような考えの人が案外多数なんだってことなんだろう。そういう意味では安心して進める気がしたが、できればこういうことは子供の頃からちゃんと親が教えてやるべきだと思う。自分は気づくのがやっぱり遅くて、その分苦労する羽目になった。',1373725557,1376467313,'楽太郎'),(78,'【朝来旅行2日目・播磨ふれあいの家で楽太郎激怒','兵庫県の朝来に来ている。<br />15時過ぎに新井という街に着いて、播磨ふれあいの家に行った。通り雨が何度も来る天気だったので、歩いて30分ほどのスーパーに行っただけ。すぐ裏手に巨大ダムの堤防が見えて気になるが、明日朝行けると良い。<br />夕食は鮎の塩焼きが美味。浴場のガラス窓にはアマガエルが張り付いて虫を狙っていた。<br />楽太郎が異常に攻撃的になっていて、掃除のおばちゃんや飼い主にまで唸ったり吠えたりする。普段おとなしいのに、慣れない外出で興奮させてしまったのだろうか。<br />明日は竹田城跡と、生野銀山を見に行く。',1373726133,1376020275,'楽太郎'),(79,'パズドラ','そういや今日ヘラ倒した。',1373731713,1376020333,'楽太郎'),(80,'朝来旅行2日目・神子畑選鉱場跡、竹田城跡','今日は朝から神子畑選鉱場跡を見学し、竹田城跡に登った。<br />神子畑選鉱場跡はほんとに良かった。<br />竹田城は、山頂に登ってすぐに激しい雷雨に見舞われ、慌てて撤退した。遮るもののない山頂での雷は本当に恐ろしく、生きた心地がしなかった。',1373820669,1376020089,'楽太郎'),(81,'無題','★技術立ち読み<br />「プロになるためのWeb技術入門」<br /><br />サンプルはPHPだったけど、認証がらみのとこだけ立ち読みした。<br />・クッキーはhttpリクエストヘッダーで情報を渡す。前のリクエストから引き渡すので、ステイトフルを実現できる？<br />・ログアウトする時は、これを消す（タイムアウトは自動で起きる？）<br />・ヘッダーに受け渡し情報がまんまはいるので、危険。<br />・セッション管理にすると、サーバーがクライアント毎に発行したセッションIDがクッキーに渡される。クッキーに内容そのものが含まれないので、<br />比較的安全。<br />・Basic認証はブラウザの基本機能。アプリ側で書く必要がないので楽だが、柔軟性はない。詳細は不明。<br /><br />この辺知りたいし実装したいけど、なかなかまとまった資料に出会わなかったので、勉強になった（立ち読みだけど）。<br />早速CPANでどういうセッション管理モジュールがあるか調べて、今月中には実装したい。',1373879384,NULL,'裸の太陽'),(82,'無題','★読書日記<br />「生活考察 vol.1」<br /><br />梅田のジュンク堂で購入。<br />2010年4月発行らしく、すでにvol.4まで出ている模様。<br />生活に関するエッセイ集というテーマだろうか。執筆陣が当時読んでいた作家陣とかなり被っていたので、読んでいて懐かしさもあった。<br /><br />「ピアノという機械自体に音楽が入っているわけではないのと同じように、脳のなかには記憶は入っていない。脳がおこなうのはチューニングであって、思い出すことは何かしら、ずっと身体の外側にあるものとの関係のしなおしから生まれてくる。言葉という、唇に貼り付いて離れないものが、歌のかたちをとることで、自分の身体を簡単に過去でも現在でもないところに置いてしまうことになるのは、ほんとうになんとも不思議なことだと思う。」<br />大谷能生 ディファレントミュージックス 第1回「新年と鼻歌」より抜粋<br /><br />NRQというバンドが気になる。ジャズだろうかインプロだろうか。',1373884940,NULL,'楽太郎'),(83,'3連休明けの新幹線にて週末を振り返る','東京帰りの新幹線で書いている。<br />今週末は、三連休だったので火曜始発帰り。<br /><br />結局朝来二日めも雨にやられ、予定を全て消化出来なかった。しかしそれでも大満足であった。また行きたい。次回はアドベンチャーフォレストとパラグライダーと生野銀山と見延鉱山にも行きたいので、レンタカーが必要かもしれない。近くに実家のあるTも誘って一緒に来れたらなおよし。<br /><br />帰って、稲川淳二の阿蘇の廃ホテルのビデオを見た。地下の医務室と宿直室がかなり気持ち悪かった。呪いのビデオ最新刊は、相変わらずスタッフによるドタバタが楽しい。<br /><br />月曜は、午前中掃除と妻の引っ越し見積もり。午後は難波と梅田に行った。<br />見積もりは3社頼んでいたが、最初のアートがかなりまけてくれたので即決。値段105000円で、荷物も中一日預かりOKだったので、期待以上。<br /><br />終わってから録画してもらったシンフォギアのセカンドシーズンを見る。オープニングが今回も奈々様だけど、前回ほどかっこ良くない。内容もキャラがかなり増えていて、不安のスタート。<br /><br />13時過ぎに出て難波へ。TSUTAYAでパズドラのグッズ展示を見た。地下で妻はPSPのゲームを購入。帰って楽しそうにやっていた。<br />食事後、梅田ジュンク堂。enchant.jsの本とノイマンとチューリングについて書かれた本が面白そうで買ってしまった。妻はちきりんの本も買っていた。読みかけの本が増え過ぎてちょっとやばい。お金は妻が少し出してくれて助かった。大東京ビンボーマニュアルという本が見たかったのだが忘れてしまって、帰りの喫茶店で思い出す始末。<br /><br />帰って、録画した住人十色を見た。能古島、海の向こうに都市が見えるっていいな…。<br />朝早かったのと、旅の疲れで25時過ぎに就寝。<br /><br />疲れは取れていないが、金曜から高知なので、3日分仕事頑張ろう！<br />では東京まで、おやすみなさいzzz',1373925141,1376021488,'楽太郎'),(84,'無題','日記の本文のフォントやレイアウトがみづらかったので、<a href=\"http://treeapps.hatenablog.com/entry/2012/11/03/twitter_bootstrap%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%97%E3%81%A6%E4%BD%BF%E3%81%86\" target=\"_blank\">こちら</a>を参考に<article>にcssを当てた。<br />具体的には、bootstrap-custom.cssというファイルを作成し、そこに上書き用のcssを書いて、bootstrap.cssやbootstrap-responsive.cssより後で読み込む。<br />こうすれば、bootstrap.cssをいじらずに済むし、bootstrapのアップデート時も、機にせずbootstrap.cssを差し替えれば良い。<br /><br />あと、フォントについては知識がなくて悩むが、font-familyに複数のフォントを指定できて、頭から順番に表示されることを知った。',1373967324,NULL,'裸の太陽'),(85,'無題','twitter bootstrapのレスポンシブデザインで、スマフォやfirefoxだと、ナビバーがstickyじゃない上に上に変な余白ができてて、非常にダサかった。<br /><br />で、ググったら<br /><a href=\"http://nobnoob.hatenablog.com/entry/2013/02/09/060256\" target=\"_blank\">ぐぐったら出てきた。</a><br /><br />というわけで解決！',1373971784,NULL,'裸の太陽'),(86,'日記サイト開発記録・book-list追加！','読書記録のページを追加した。<br />とりあえず内容もテンプレートにベタ書きしてしまったが、ゆくゆくはこれをモックにして、入力フォームで記入、編集ができるようにしたい。',1374034185,1377825762,'裸の太陽'),(87,'想像しろ、ヒトであるために','せっかく人間に生まれたのだから、人間にしかできないことをやって死にたい。<br />人間にしかできないことってなんだ？それは芸術だ。芸術ってなんだ？音楽？絵画？俺が思うに、それは創造だ。無から生み出す概念、価値観、秩序。<br />経済、農業、工業、科学、それらは全て人間以外が、自然が行っている。それらは効率化だ。エントロピーの整理整頓だ。<br />人間の想像力だけが違う。無から何かを産もうとする。それは熱力学第三原則への反逆だ。科学では永遠に説明できない。<br />消費するだけの人生は空しい。効率化に生涯を捧げるのは、共同体の歯車として個体生命を終えるにとどまる。個の唯一性にアイデンティティをもつ個体は存在する。俺もそうだ。そんな個体が唯一その生を全うできる手段。それが芸術だ。<br />ジョンも言ってたじゃないか。想像しろ。<br />いますぐ創造するんだ。それが、人が人であるための、唯一の道だ。',1374064070,1376020037,'楽太郎'),(88,'読書日記・ロリータ、いよいよ第2部へ（まだ感動してない）','★読書日記<br />「ロリータ」第2部22章まで<br /><br />滞土中ずっと読んでいたが、まだ1/3ほど残っている。<br />基本的に読みやすいが、病的な偏執狂の手記に引き込まれることに対する潜在的な警戒心がまだ解けていないようで、忘我的な読書体験は未だ得られていない。要するに、まだはまって読んでいない。<br /><br />第1部では、哀れなハンバートが如何にして旧世界から新世界へ渡り、どうやってヘイズ家に忍び込み、どんな具合に哀れなドロレスを（俺から見たらハンバートこそが悪魔でロリータのほどがよっぽど哀れだ）こましてやったかという物語が語られる。<br />ヘイズ家の一員になりすまして、哀れなロリータを密やかなおかずの対象にしようと涙ぐましい努力を続けるハンバート。間一髪のところでハンバートの正体に気づいてしまった愛人にして後妻、ロー母・シャーロットが、滑稽なまでに古典悲劇的な自動車事故によってこの世から退場。母の死を隠したまま林間学校にロリータを迎えに行ったハンバートは、予想外の少女側からの積極的な誘惑によって、ふたりきりの旅の開始早々に、生涯の夢であった（性交そのものはどうでも良かったそうだが（笑））ニンフェットとの肉体関係に成功する。しかしもちろん、ニンフェット・ロリータに潜在していた悪魔性は、ハンバートおじさんのポテンシャルなど遥かに凌駕していた。<br />14だけど、とっくに処女じゃないし、セックスなんて道具ぐらいにしか思っていない。ローの本性に気づいてはいるものの、ハメるためならついついなんでもやってしまうハンバート。<br /><br />第2部では、ただロリータとセックスするために、ハンバートはアメリカ中をあてもなくドライブする。ひと目を恐れつつ虚しく観光地をまわり、キッチュなアメリカ雑貨の数々をローに買い与える。自分たちの堕落に恐怖し、思い立ってある街にとどまりローを学校に通わせ、フランスの父親自込のテニスを教えるハンバート。この時だけww2以前のアメリカ小説っぽいにおいが再びするが、そこ以外のこの2部は、まるでタランティーノやリンチのロードムービーのよう。ワイルドアットハート。<br />ここでも典型的な悲劇様式そのままに物語は進行する。最初は魅力的に見えた年上の男も、すぐにただの好色ヒヒ爺と化して、ロリータの嫌悪対象、ただの金づるに成り下がる。実際、ハンバートは愛情や大人の魅力ではなく、感化院に入れるぞという脅しでローをつなぎとめている有様。当然、魅力的な彼女の周りには常に複数の男の影がちらつき、ハンバートが計画的な殺人の対象になりつつあることが示唆される。一方、ハンバートはハンバートで、そろそろニンフェットの定義を脱しつつあるローとの蜜月終了の予感を感じており、始末の手段としてカバンにはコルトを忍ばせている有様。思うにナボコフは、このあまりにも陳腐な3流悲劇を、ギャグとして書いたのではないか。<br /><br />でもねえ、これ読んで泣いた人もいるんだよねえ。<br />このままギャグで終わるわけないんじゃない、たぶん。',1374504289,1376021388,'楽太郎'),(89,'坂口恭平・多次元の空間を作り出す','7/19(金の)坂口恭平日記より<br />~~~~~~~~~~~~~~~~~~~~~~~~~<br />とにかくできるだけ小さなスペース、極小の動作だけで、より広く、立体的に感じられることに興味を抱いているのである。それをずーっとやっている。今も。もちろん、それは僕のやろうとしていることの一つで、しかも、ほとんど関心も持たれていないところでもあるのだが、僕としては気になって仕方がないし、そこに興奮を持つ。空間さがしばかり、しているのだ。一体なぜ？<br />~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br />無限に折りたたまれた空間を広げなおして、構築したもの好きなもの自分の世界を詰め込み、また折りたたむ。手のひらあるいはポケットに収まる立方体に、必要な物全てが詰まっている。立方体に自由に出入り出来れば、もう言うことはない。まるで不老不死を手に入れたかのような万能感と安心感。',1374564594,1376016291,'楽太郎'),(90,'enchant.jsで奇跡の扉（を再現したい）','奇跡の扉をenchant.jsかアトラスを使ってブラウザに移植したいのだが（公開目的ではなく、自分でプレイするため）、更に言うと、iphoneでプレイできたら一番いい。<br /><br />で、あのゲームの音声ファイルはmidiのテーマ曲2曲と効果音1個しかないのだが、それがかなり重要になってくる。<br />なので、iphoneのサファリでスムーズに音声を出せるかが重要なのだが、調べたらちゃんと出来るようだ。<br /><a target=\"_blank\" href=\"http://d.hatena.ne.jp/nakamura001/20110521/1305993210\">[JavaScript]iPhoneのSafariでプレイヤーを立ち上げずに音を鳴らす方法</a>',1374656586,1376022047,'裸の太陽'),(91,'東京で過ごす週末を迎えるにあたっての愚痴','ひとまず一週間終了。<br />お疲れ、おれ。<br /><br />今週は、月曜に高知から帰って来てそのまま仕事行って、おっきい会議が一つ、飲み会が三つ、月末までに書かないといけないプログラムが複数あるけど、新人にもいろいろ教えないといけない、そんな感じの一週間だった。<br />プログラムの方は、最低限のところまでは終わって週末迎えられたので、まあいいけど、忙しかったせいでこのサイトの実装から遠ざかってしまった。<br />間が空くと、アイデアから実装のフローが途切れて、腰が重くなって<br /><br />飲み会行かにゃいかんくて文章が途切れたわけだが、<br /><br />まあいいや。<br />要するに、今週末は東京にいるので、何か一つでも成果を残したい。創作の。<br />予定では、明日は杉並区役所行って、沢田マンションに出てた千葉の画家の人のギャラリー。明後日は、15時から高円寺でロリータの読書会。あと100ページほど残ってるけど、まあ明日一日あるし。ハンバート死ね。<br /><br />で、できれば空いた時間は当サイトのセッション管理実装か、enchant.jsでライフゲームとか。うーんでも無理やろなー。amon2行き詰まったし。。みんなどうやって勉強しとるんやろ。<br /><br />大塚駅から歩いてるんだが、軒下のベンチで空き瓶傍にタバコふかすショートパンツのお姉さん。コインランドリーの外のベンチで漫画読んでるTシャツに短パン姿のお兄さん。2013年日本の夏は熱帯だ。夏バンザイ。八月よ永遠なれ。まだ七月だけど。<br />',1374849160,1376016221,'楽太郎'),(92,'読書日記・ロリータ（読了）','★読書日記<br />「ロリータ」ウラジミール・ナボコフ<br /><br />第2部27章〜ラスト。<br />結論から言うと、傑作だった。<br /><br />内容は通俗的な表現も多いし、現代日本人の自分には理解が難しいネタや比喩が多すぎて読んでて混乱したし、明日の読書会がなかったら途中で読むのをやめてしまったかもしれない。<br />でも、最後まで読んで良かった。っていうか、最後の最後まで引っ張ったナボコフに軽い殺意も^^#。だって、最後の3ページぐらいでほんとに感想が180°変わるんだもんこの本。最後まで読まなかったらと思うと、まじで恐ろしい。。<br /><br />で、結局この作品の何がすごいかというと、<br />・作者は亡命ロシア人。<br />・なのに、20世紀のアメリカ文化を表現しきってる。<br />ってことか。書かれたのは30~40年代みたいだけど、第2部に至っては、タランティーノとかリンチのロードムービーのよう。だって亡命ロシア人だよ。現代日本人よりもっとアメリカ文化とは距離あったはず。<br />そういう意味で連想するのは、アメリカン・クラーヴェのキップ・ハンラハン。彼もロシア系でブルックリンだったっけ。よそ者が構築したアメリカ風景がアメリカ文化になる。そういう意味で、アメリカは本当に稀有な国だと思う。菊地成孔が2000年代にやってた一連の仕事も、その系譜の後継を目指していたと思う。ディープルンバ聞きながら読めばよかった。<br /><br />話がずれたけど、もう少し「ロリータ」の素晴らしさについて書きたい。<br />最後の3ページで心と涙腺のダムが決壊したことはもういいか。<br />ではなんで決壊したかというと、それはこの物語の主題が「芸術」にあることに、ようやくそこで気付かされたから。いたるところで、ハンバートの芸術至上主義的所信表明は発表されていて、うんざりポイントでもあったのだが、なんでうんざりしたかというとギャグだと思わされたからだ。ヨーロッパ出身の主人公を道化に見せるため、わざとヨロッパ小説風の文体にしたりそもそもハンバートってローとか俺から見たらとにかくダサいし痛い。それが結構しつこくてナボコフの性格の悪さみたいなのばかり感じてしまってうんざりしてしまうんだけど、いやいやいやいや、マジだったんだよ。芸術。僕にとっては、創造。<br /><br />ナボコフはあとがきで、<br />”象徴とか寓話を嫌悪している”<br />とか、<br />”私にとって虚構作品の存在意義とは、私が直截的に美的至福と呼ぶものを与えてくれるかどうかであり、それはどういうわけか、どこかで、芸術(好奇心、情愛、思いやり、恍惚感)が規範となるような別の存在状態と結びついているという意識なのである。”<br />って書いてて、これは万人に当てはまる感覚じゃないのは分かるんだけど、でもこういう感覚を持たない人達って、俺にはゾンビに見える。どういうわけか、出版社とかあろうことか小説家の間にゾンビって大量にいるみたいなんだけど。。<br /><br />で、もちろんあとがきでいくらいいこと書いても後付だしずるいだけだけど、ロリータの素晴らしいところは、そこのところをラストの文章できっちり書ききってるところ。<br />〜〜〜〜〜〜〜〜〜〜〜〜<br />それからC・Qを憐れだと思わないように。あいつかH・Hのどちらかを選ばなければ仕方がなかったのだし、H・Hが少なくとも二ヶ月ほど長く生きて、彼のおかげでおまえが後の世代の心の中に生きつづけることを選んだのだ。<br />いま私の頭の中にあるのは、絶滅したオーロクスや天使たち、色あせない絵の具の秘法、預言的なソネット、そして芸術という避難所である。そしてこれこそ、おまえと私が共にしうる唯一の永遠の命なのだ。我がロリータ。<br />〜〜〜〜〜〜〜〜〜〜〜〜<br />これはほんとうに泣ける。<br /><br />ハンバートは最低の変態で、たまたまニンフェットだったドロレスから、子供時代を奪い去った。自分の罪深さに慄然としながらも、欲望に打ち勝つことができなかった。<br />ロリータは、自分の人生が奪われたこと、奪った悪魔は心から自分を愛していたことに結局気づいていたのだろうか。俺には良くわからない。<br />ハンバートは（ナボコフは）、その悲劇に、愛に、ロリータと自分の人生に、小説という形式で永遠の命を与えることにした。そのことを、俺は心底から支持する。<br /><br />この作品に出会わせてくれた、読書会に感謝。。<br /><br />（追記）<br />ラストを読んだ後で序文を読むと、2人はもうこの世にいないことがわかる仕掛けになっている。そうして物語のはじめに戻ることで、物語は円環を成し、2人の魂はこの創作物の中で永遠に生きつづける。',1374930061,1376016162,'楽太郎'),(93,'ロリータ読書会@高円寺','今日は高円寺でロリータの読書会に参加した。<br />Tの大学時代の友人が主催している会だったのだが、本当に楽しかった。<br />今まで本を読んでいくら感動しても、それを語り合う機会なんてほとんどなくて…(泣)。<br />あまりにも楽しすぎて、日記に書くことがないくらい(笑)。<br />ナボコフはいいです。<br />人間っていいです。<br />もっともっと、人に会うべきだな。<br />まだ死にたくない。<br />もちょっと生きてみたい。',1375031392,1376015926,'楽太郎'),(94,'俺たちの夏風邪','先週末からの夏風邪が、グズグズ長引いていた。<br />昨夜は特に咳がひどく、明け方まで咳き込んで吐きそうになり目が覚めるという感じだったのだが、朝目が覚めるとぴったり治まっていた。不思議。<br />プリンスも相変わらず鼻をグズグズ言わせている。一時期は喘息のような呼気音で息をするのもつらそうだった。死んでしまうかもと思っていたが、夏になって急に元気になって、最近では回し車もよくやるようになっている。ただ、目はもう見えていないんじゃないか。小屋を掃除していると、手の匂いを嗅ぎながら餌をねだる姿が、たまらない。',1375323920,1375986343,'楽太郎'),(95,'成孔本欲しい','久々のなる本（といっても4月発売、、知らなんだ）、超欲しい。<br /><a target=\"_blank\" href=\"http://www.kawade.co.jp/np/isbn/9784309273174/\">ポスト非リア充時代のための吾妻ひでお</a>',1375333445,1375986408,'楽太郎'),(96,'ロリータに関するTとの議論 ','★読書日記的な<br />ロリータに関するTとの議論<br /><br /><div align=\"left\"><br />ロリータ読み終わった。<br />最後の最後までギャグの三文小説としか思えんかった。<br />が、最後の3ページで涙腺崩壊。人間てなんなんだ。生ってなんなんだ。悲しくてやりきれないの歌詞と島唄で映画化して欲しい。<br /></div><br /><br /><div align=\"right\"><br />ロリータ、ラストに向かってドンドンカオスになっていくね。創造の秘密に危険に近づいていくように。<br /></div><br /><br /><div align=\"left\"><br />だろ。<br />創造の哀しさと美しさに俺は泣いたね。<br /></div><br /><br /><div align=\"right\"><br />今年の夏はナボコフと井筒先生、灰野氏、恭平兄の下、孤独、渇望、煩悩、夢、誇り、ルーツ、叡知、愛、絶望と真面目に向き合うことに決めた。<br /></div><br /><br /><div align=\"left\"><br />恭平さんの新作は、未来記憶に真正面から取り組んだ快作だわ。未来記憶こそが幽霊の正体ではなかろうか。<br /></div><br /><br /><div align=\"right\"><br />未来回想でもなくて未来記憶？デジャブ？<br /></div><br /><br /><div align=\"left\"><br />間違えた、未来回想やね。<br />未来記憶って検索したら自己啓発系のサイトが多数…。デジャヴとも違って、ただの未来展望や前向き思考みたいな使われ方しとる。<br />未来回想って、同じ瞬間に未来の自分と過去の自分が同時に存在しなくちゃならなくて、それっておおむね回顧形式になる小説ではまあ自然じゃないかと思うんだけど、現実にそれが起きてるとしたら幽霊が存在してるとしか思えん。<br /></div><br /><br /><div align=\"right\"><br />幽霊はいた！ってことか。<br /><br />井筒氏の読書会とかないかなって思って調べてたら、石山修武という恭平さんの師匠が井筒氏を愛読してることが判明した。つながってきたよ。ナボコフ、未来回想、恭平さん、石山、井筒師匠、、このままいけば魔法使えるようになれるかもな。<br /><br />ロリータ、後半がカオスだけど、たまに哲学的なフレーズが飛び交っていて<br />、未来回想が重要なキーワードな感じだね。それと、読書会で誰かが言ってたけど、死の世界。アメリカは光輝いてるかもしれないけど人は皆、生きながら死んでいる。たしかにリンチの匂いもするね。そいや、リンチも未来回想的だ。。<br /><br />トムフォードの監督したシングルマンって映画、素晴らしいからみてみて。<br /></div><br /><br /><div align=\"left\"><br />インランドエンパイアで、ローラダーンが不気味ババアに謎の予言をされて物語が始まるところとか、未来回想そのものよね。他に執拗に幽霊を描き続けている監督としては、黒沢清とイーストウッドもいますな。<br />思うに、物語と死の世界って切り離せんのよ。俺が世界一好きなジョンアーヴィングのクマを放つっていう小説とか、村上春樹の諸作とか、死の臭いがぷんぷんやし、ロリータの世界を支配しているハンバートの声って死者の声そのものよね。恐ろしいことに、恭平さんからも死の臭いがするんよね。まあリンチもナボコフもイーストウッドも年取るほど良い仕事してるように見えるから、あまり心配してないが。そういやゴダール作品も死者の世界に近いかも。早死にしてしまったトリュフォーからは逆に死の臭いがせんかった。<br />もしかすると、創作の世界で死をもてあそべる人っていうのは、生命力が強いのかもしれん。ベーコンも長生きしたし。<br />井筒はまだ全然わからんが、分析的に死の世界に魅せられた人って、成孔さんとか、なんか早死にしそうな気がする（苦笑）。くわばら。<br /></div>',1375346199,1375986465,'楽太郎'),(97,'読書日記・トーキョー自立日記','★読書日記<br />『トーキョー自立日記』トリバタケ ハルノブ<br /><br />妻の本棚より拝借。<br />トリバタケ氏の学生時代の挫折～引きもりから上京して働き始めるまでを自伝的に描いた漫画『トーキョー無職日記』の続編。<br />無職日記は未読だがこの手のひきこもりからのエクソダス的な作品はちょこちょこ存在すると思うのだけれど、続編のこちらでは、そこそこ人生がうまく回り出した主人公が、本当にやりたいこと手に入れつつあるキャリアとのギャップに悩みまくってもがいて弱音を吐き、前進したり後退したり、上がったり下がったり、天狗になったり自己嫌悪ったり、その辺がしつこいくらい描かれててそこが良かった。<br /><br />20前後のころ、浪人してまで入った大学でやりたいことや楽しいことが何も見つからないことに絶望して、一年近く引きこもりっぽい生活になったことがあった。コンビニのバイト以外は、ほとんど家で寝るか同じ本を繰り返し読むかオナニーするだけ。当時の絶望感や背徳感（親や世間への）は未だに夢にでてくるくらいで、人生で最も戻りたくない時期でもある。<br />決してそれを乗り越えたわけでもなくて、やりたい道を進んでいるわけでもない。<br />仕事では、夢と現実の乖離に悩みつつも、気づくと職場での評価や責任感を拠り所に日々何とか満員電車に乗り込んでいたりする。<br /><br />この漫画は名作だと思う。<br />ブログで連載してたらしいから、同じところを行ったり来たりながら青春を精一杯生きてる感じがより生々しく出ていると思う。フィクションを楽しむんじゃなくて、気になる人のブログを毎日読んで、自分もエネルギーを得る感じ。<br /><br />後、絵がスコットピルグリムに似てると思った。決して画力の高くない人が、丁寧に書き込んだ感じ。うまい下手超越して、臨界を超えた情報量が爆発している。<br />名作だと思う。<br />',1375604143,1376015877,'楽太郎'),(98,'日記サイト開発記録・検索ハイライト機能追加','サイトの検索機能関連で、検索ワードをハイライトできるようにしたかった。<br /><br />jQueryとかでいっぱいあるだろうと思って検索したんだけど、意外とたった1個しかそれっぽいのを見つけられず。<br /><a target=\"_blank\" href=\"http://d.hatena.ne.jp/deeeki/20090319/jqueryhighlight\">jQuery 指定した文字列をハイライトするプラグイン</a><br /><br />jquery.highlight-4.js ってのを使ったんだが、iphoneでは動いてくれず。。<br />PCの方ではうまくいくんだが。。<br />原因がこのプラグインにあるのか、サイト側の実装にあるのかもよくわからない。<br />まあ、リハビリとjsの練習で取り組んだだけなので、とりあえずはこれでいいや。<br /><br />次に実装する検索関連機能としては、複数ワードでの検索かな。<br />今検索は、Tengで直接like検索やってるけど、これを、いったん全投稿を配列に取ってから、部分一致で文字列比較をして検索するように変更しようと思う。<br />不定数の検索ワードに対応するSQLを生成する方法が思いつかないっていうことと、like検索SQLよりは（なんとなく）速そうっていうだけ。',1375841574,1376540271,'裸の太陽'),(105,'新規サイト開発案・小説サイト','当日記サイトも最低限欲しい機能は実装できた気がするので、だんだん作業もマンネリになってきた。<br />そもそもブログを書くための道具を作りたかったのだから、目的は達成できたといっていい。<br /><br />機能もデザインもしょぼい当サイトだが、ゼロから自分で作ったせいか、ブログを書くこと自体が楽しい。なんとかネタを見つけてでも書こうという気になる。<br /><br />せっかくのこの良い流れに乗って、継ぎは小説を書くのに特化したサイトを作れば良いのではと今日思いついた。<br />閲覧ももちろんだが、いい具合に投稿できるUIを考えよう。<br />ノルマで毎日一章書くとかで、それを最大限やりやすくするUIが良い。',1375986268,1376019991,'裸の太陽'),(106,'恭平兄さん欝より帰還','～～～～～～～～～～<br />深夜、伊坂幸太郎氏の「死神の精度」を読んでいたら、何かぐいっと上がってくるものがあった。おっ、と思って、静かに布団の上で空想すると、いろいろと浮かんできた。いいぞ、いいぞ、と思いながら、また本を開き、読んでいると、またちょこっと浮かんでくる。おっ、とか言っているもんだから、弦の授乳中のフーが、こちらを見て「もしや？」と。「うん、なんか、来てるかも、もぞもぞが、、」とそこで、書くべきという次のイメージが三つ集まってきた。ということで、そこでメモ。しかし、今回は二週間かかった。<br />～～～～～～～～～～<br />坂口恭平日記 ２０１３年８月６日（火）　より抜粋<br /><br />”幻年時代”、ほんとうに素晴らしい本でした！<br />しかし、何が素晴らしいのか、何が自分の中で引っかかって傷を残したのか。<br />まだうまく言えないけど、なんとか言葉に出したい。<br /><br />家族、空間、暗号、子供の坂口恭平の体に閉じ込められた大人の坂口恭平。<br /><br />未来回想。',1376030791,NULL,'楽太郎'),(107,'夢（近未来日本）','温暖化で北海道が日本の人口、産業、商業の中心地になっている。<br />行政の中心地は青森。<br /><br />東京はゲリラ豪雨、地震、富士山噴火によって、熱帯化、スラム化している。<br /><br />富士山噴火により沼津以西日本は分断。<br />関西は朝鮮人に占領され、日本人は熊本に新政府を樹立。沖縄を除く九州七県による新国家まほろばの誕生。',1376388250,1380881059,'楽太郎'),(108,'焦燥','30になってしまった。',1376466327,NULL,'楽太郎'),(109,'ヘビ、吉備の国、別の人類','ヤマタノオロチ<br />ニシキヘビ<br />知恵の木の実<br />木の実ナナ<br /><br />岡山には熊山遺跡という遺跡があるらしい。<br />蛇紋岩を積み上げた四角錐の構造物で、マヤのピラミッドによく似ている。<br />一応飛鳥時代の仏教建築らしいが、インドネシアのボロブドゥールの建築との類似も見られるそうだ。<br />なぜ岡山の山奥に海外文明とリンクした構造物が？<br />岡山には、国内4番目の大きさを誇る前方後円墳も存在し、ヤマト朝廷に対抗する古代国家があったとする説もあるようだ。<br /><br />山奥の独自にキリスト教を伝承してきた一族の正体が、知恵の木の実を食べた我々とは異なる、生命の樹の実を食べた別の人類だったというのが、諸星大二郎の「生命の木」のあらすじだが、それはにクロマニヨン人から連なるホモサピエンスとは異なる人類亜種が、実は現代まで生き延びているという願望の現れではないか。<br />僕はひとりじゃない。<br /><br />岡山にそんな隠れ里がある/あった、という妄想。。<br /><br />ヤマタノオロチ伝説があるのは、島根県雲南市。<br />ちょっと遠いか。でも行ってみたいなあ。',1376466640,1376540350,'楽太郎'),(114,'ハルシオン・ハイ','0時過ぎ頃、珍しく妻がもう一度電話してきたので、1時間ほどしゃべった。<br />引越し後に作りたいWebサイトのアイデアが止まらないようで、ノンストップでアイデアを語ってくれた。<br />俺はとにかく形にできるよう、がんばらんと。<br />今夜も睡魔で意識が朦朧としている。',1373473942,NULL,'楽太郎'),(115,'andymente禁断症状','andymenteのゲームがやりたい。<br /><br />Windowsもってないから、ヴァーチャル環境も用意できない。そのためだけにWinXP買ってvirtualbox環境構築なんて今更やりたくない。<br />誰かいらんくなったXP機、ぽんっとくれんかなあ。(´・ω・`)<br /><br />ちなみに、win7では品川魔人学園とがバグった。確か、HPか何かのパラメータがレベルアップしても上がらなくてボスを倒せず、エンディング見れんかった(´・ω・`)<br /><br />OSXで.exe動かすフリーソフトも結構あるけど、どうなんだろう。<br /><br />やりたい作品はほとんど古いのばかりなので、ubuntuのwineで試してみた時は、RSはもちろん、C-steffとかもレイアウト崩れてボタン押せなかったりして出来んかった。<br />一番やりたい、というかこれだけあれば生きていける「奇跡の扉」が動きさえすればいいんだけど、これもwineじゃ肝心のmidiが狂って悲惨だった。<br /><br />今更XPなんか手に入らんから、いっそのこと画像と音声ファイルだけ使って、スクラッチでブラウザゲーム作ってしまおうかな。<br />手始めに、単純なテキストアドベンチャーの奇跡の扉なら、すぐ何とかなる気がする。',1373531084,NULL,'裸の太陽'),(116,'奇跡の扉をenchant.jsで','奇跡の扉をブラウザに移植したいという話だが、良く考えたら、enchant.jsという手段があった。<br />1年以上前に買って放置してる入門書に、確かアドベンチャーゲームエンジンの項目があった気がする。<br />今日は仕事終わったらそのまま神戸なので、来週帰京したらさっそくチャレンジしたい。',1373612231,NULL,'裸の太陽'),(120,'日記サイト開発記録・改行の入力・表示の調整','改行文字の入力、表示がいろいろ混乱していたので、修正した。<br /><br />修正前は、投稿画面で入力した改行文字は&lt;br /&gt;に変換する処理をかまされてDBにinsertされるのだが、編集画面で入力した改行文字は、”\\r\\n”のままDBにupdateされてしまい、両者が混在していた。<br />さらに、&lt;br /&gt;への変換対象が、なぜか\"\\r\\n\"ではなく\"\\n\"になっていたので、DB内に\"\\r\"がかなりまぎれてしまっていた。<br /><br />\"\\r\"は「復帰」なので、HTMLソースとしては無視されて（\"\\r\\n\"も）、ブラウザ表示は一見問題ないように見えるが、DBの内容をselectしようとすると、わけわからん状態に。<br />OSとか日本語表示の問題で表示崩れしていると思っていたのだが、これが根本原因だった。<br /><br />なので、投稿・編集どちらも、改行コード\"\\r\\n\"を&lt;br /&gt;に変換してDBに格納するようにした。<br /><br />混在していた\"\\r\\n\"と\"\\r\"は、mysqlのreplaceで、<br /><pre class=\"prettyprint\">mysql> update entry set body = replace(body,\'\\r\\n\',\'\');<br />mysql> update entry set body = replace(body,\'\\r\',\'\');</pre>で一括消去。<br /><br />これで保存データ内の改行は<br />で統一できた。<br /><br />最後に、編集画面にデータを表示する際には&lt;br /&gt;のまま表示すると見づらいし、タグをいちいち入力しなきゃならなくなるので、<br /><pre class=\"prettyprint\">$entry->{row_data}->{body} =~ s%&lt;br /&gt;%\\r\\n%g;</pre>と、\"\\r\\n\"に変換してやる。<br />ほんで、更新する際に投稿画面と同じく、再び\"\\r\\n\"を&lt;br /&gt;に変換してやれば完成。<br />これで、ユーザー（っていっても俺だけだけど…）は改行について何も考えなくていいし、ソースもHTMLだけで綺麗に保てる様になった。<br /><br />この問題って、サイト構築初期に悩んで結局うまくできてなかったとこなんだけど、時間が経ったり、ある程度サイトを使い込んで仕様を体で把握したら、自然な解決方法が出てくるものなんだな。<br /><br />勉強になりやす。<br />やっぱり、自分で作らんと何事も身につかんのだ。',1376548067,1377825571,'裸の太陽'),(126,'日記サイト開発記録・開発終了宣言','画面からの、投稿の削除機能を実装した。<br />これが実装できてなかったので、実はまだCRUDが実現できてなかった(苦笑)。<br />テスト投稿をした後は、DBで直接delete文を打ち込む日々。。<br />お陰で、ミスって大切な日記まで消してしまうことも多数(涙)。<br />今後はDBを直接いじる必要もなくなるので、一安心だ。<br /><br />というわけで、この日記サイト、自分用どこでも日記書けるWebアプリ、の開発をこれで終了としようと思う。<br /><br />まだ実現できていない機能は多い。<br /><br />まず真っ先に挙がるのが、セッション管理によるログイン機能。<br />これの実装方法がわからないから、投稿、編集、削除のたびにログイン画面が出てくるはめになっている。<br />いちいち全てにログインが絡むので、ソースの構成も絶賛スパゲッティ化。。<br />なんとかリファクタリングしたい。<br /><br />ただ、日記という性質上、短時間に頻繁に書き込んだりしないということ、それと、自分でいくつかのIDを使い分けて書き込んでもいるので、セッションでログイン状態を保たせると、それはそれでログイン・ログアウトがめんどくさいかと。<br />だからまあ、とりあえずこれでも十分かなと。<br /><br />キーワード検索機能も、まだキーワード1個にしか対応していない。<br />スペース区切りで可変数のキーワードにも対応できるようにしたいし、その過程でSQLでlikeを使ってるのをやめたい。<br /><br />他にも、サイトのデザインとか、アクセスカウンターの設置、ログの解析などなどetc...。<br />あと、素のplackで運用してるので、Webサーバーに置き換える必要もあるかもしれない。apacheかnginxか、はたまたstarmanか。。<br />いつまでも3001番でこうかいするのも、URL的になんかあれだし。。<br /><br />挙げだすときりがないのだが、日記を書いて情報を蓄積していくという基本的な機能は完成している。<br />曲りなりにも検索機能や一覧機能なんかもちゃんと動いてる。<br />だから、これからはこのツールを使い倒せばいい。<br />データをどんどん貯める。<br />ある程度貯まったら、自分の記録をいろいろ解析して遊ぶという最高のご褒美も待っている。<br /><br /><br />というわけで、これにてこのサイトの開発は終了！<br />もしかしたらマイナーな改修や、我慢できずに上に書いた未実装機能も実装してしまうかもしれない。<br />むしゃくしゃしてヤッちまうかもしれない(笑)<br />バグが見つかる可能性もある。<br />でも、とりあえずこのプロジェクトは今日で終わり！<br />明日からは次のアプリをつくる。',1376556055,NULL,'裸の太陽'),(127,'続日記サイト開発記録・amon2アプリをsatrman(とnginx)で動す（したい）','昨日終了宣言を出したのですが…<br /><br />いつまでも開発用の簡易サーバーというのもあれなので、、、<br /><br />というか、本番deploy関連の知識も欲しいので勉強も兼ねて。<br /><br />まずは情報収集<br /><a target=\"_blank\" href=\"http://wata-jp.ldblog.jp/archives/1674163.html\">Apache、mod_perl さようなら！さくらVPSで Nginx + Starman</a><br /><a target=\"_blank\" href=\"http://mechanist.x0.com/wiki.cgi?page=Amon2%A4%F2Supervisor%2BStarman%A4%C7%C6%B0%A4%AB%A4%B9\">Amon2をSupervisor+Starmanで動かす</a><br /><br />daemontoolsとかsupervisorはまあ別にまだいいんだけど、、<br />とりあえず、<br /><pre class=\"prettyprint\">$ cpanm Starman<br />$ starman app.psgi -p 3001</pre>してみたら、トップの静的ファイルは問題なかったんだけど、日記一覧にいくと、DB接続エラーが…<br />何か設定しないといけないんだらうか(´；ω；｀)<br /><br />あと、むかーしサーバーのubuntuにnginx入れてたんだけど、既に使い方がブラックボックス(泣)。<br /><br />…勉強しよ。<br /><br /><br /><strong>（10/10追記）</strong><br />Plackで使えるPerlスタンドアローンサーバにはStarman以外にStartletというのもあるようで。<br /><a href=\"http://hirobanex.net/article/2011/10/1319069318\" target=\"_blank\">Plack時代のReverse proxyによるサーバー運用方法 ~YAPC::Asia2010の復習(後編)~</a><br />この記事ではnginxではなくてApacheを使ってるけど、Apache+Starletでのplack up方法が詳細にかかれてて、マンモスうれぴー。<br />daemontoolsでのプロセス管理についても書かれてて勉強になるでやんす。<br /><br />先月のYapcでの@koba04さんの発表で、開発に必要な個人スキルのセットは把握できたので、はやくなんかやりたい…。',1376625876,1381374096,'裸の太陽'),(134,'理想の政治家','コードギアス2部の最終話で、理想の国家の基礎作りを完了したルルーシュは、民衆の憎悪を一身に引き受けた上で”ゼロ”に自分を殺害させ、（実は自分の遺志を継いでいる）ゼロを救世主とした理想国家の建設を完遂した。<br /><br />坂口恭平も彼の一連の活動で波乱を起こし注目を集めるだけ集めた上で、”アルゴリズムは俺が作った。あとは各自が勝手にやってくれ”と言い残して、新政府活動の終了宣言を発した。<br /><br />銀河の平和の救世主として期待されたアナキン・スカイウォーカーとパルパティーンは後に、それぞれダース・ヴェイダー、銀河帝国皇帝として血も涙もない恐怖政治を行い、多くの有能な人材が命を奪われることとなった。<br /><br />どんづまった日本という国のシステム。<br />財政再建の為の、公務員制度改革、年金改革、消費増税、セーフティーネットetc。<br />それぞれ現行のシステム上での既得権益層が存在し、往々にして彼らの声のほうが大きい（有権者数が多い）。<br />このままじゃまずいとみんながわかっていても、将来の国民のために不利益を甘受しようという国民は、あまりにも少ない。<br /><br />投票に基づく民主主義では、緩慢な死を迎えるまでおそらく何もできない。<br /><br />ルルーシュのような自己犠牲的な超人の出現を待つか。<br />坂口新政府の遺志をついで、国民一人一人が”新たな空間レイヤー”を生み出すことで、日本国というシステムのパラダイムシフトを作り出すか。<br />自分的にはどちらが幸せかは明白なんだけど、できれば周りも同じ方向を向いてくれないといろいろやりづらいというのは、まあ、ある。<br /><br />現政府がヴェイダー/パルパティーンになる力量と覚悟すら無いのは明白なんだけどね。',1377061628,NULL,'楽太郎'),(136,'秋風ふいた','まだ八月なのに。<br /><br />夏が永遠に続くんじゃないかという幻想は、今年も見事に裏切られたようだ。',1377563930,1377582860,'楽太郎'),(137,'Lovebirdsを爆音で','<a href=\"http://www.youtube.com/watch?v=gjfkZHSu1Cc\" target=\"_blank\">http://www.youtube.com/watch?v=gjfkZHSu1Cc</a><br /><br />恭平兄さんのツイッターで知った。<br />ドイツ人？<br />ビラロボス以降いいのが見つけれてなかったけど、こりゃいいや。',1377571556,NULL,'楽太郎'),(138,'amon2で掲示板(1)~ひな形作成から投稿・表示機能の作成まで','せっかくここまでこのサイトを作りこんだので、今後のマニュアルという意味も兼ねて、Amon2の使い方をまとめたい。<br />…といっても、<a href=\"http://blog.64p.org/entry/20111120/1321783228\" target=\"_blank\">tokuhiromさんのサイト</a>をほぼ丸写ししただけですm(_ _)m<br /><br />今回はインストール、雛形の作成から、投稿・表示機能の実装まで。<br />ではいってみよう☆（ゝω・）v<br /><br /><h4>★全体の流れ</h4><br /><ol><br />  <li>Amon2,Tengのインストール、スケルトン(Large)の作成、依存モジュールインストール</li><br />  <li>DB、DBスキーマの作成と流し込み</li><br />  <li>DBへの接続設定</li><br />  <li>書き込み等の各メソッドの作成</li><br />  <li>コントローラーの作成</li><br />  <li>ページのHTMLを修正</li><br /></ol><br /><br /><h4>★実装の詳細</h4><br />・Amon2とTengのインストール。<br /><pre class=\"prettyprint\">$ cpanm Amon2 Amon2::Setup::Flavor::Teng Teng</pre><br /><br />・スケルトンの作成。<br />今回はMySQLと接続する比較的大きなアプリなので、\"Large\"を選択する。<br /><pre class=\"prettyprint\">$ amon2-setup.pl --flavor=Large,Teng MyBBS</pre><br /><br />・依存モジュールをインストールする。<br /><pre class=\"prettyprint\">$ cd MyBBS<br />$ cpanm --installdeps .</pre><br /><br />・起動してみる。<br /><pre class=\"prettyprint\">$ plackup app.psgi -R lib -p 3000</pre>http://mydomain.com:3000/にブラウザでアクセスすると、amon2のトップページが見れる。<br />※事前にポートの3000番を開放しておく。<br /><br /><br />・DBのスキーマを作成。<br /><b>sql/mysql.sql</b><br /><pre class=\"prettyprint\">CREATE TABLE IF NOT EXISTS sessions (<br />    id           CHAR(72) PRIMARY KEY,<br />    session_data TEXT<br />);<br />CREATE TABLE IF NOT EXISTS entry (<br />    id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,<br />   body VARCHAR(255)<br />) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre><br /><br />・DBの作成と、スキーマ流し込み。<br /><pre class=\"prettyprint\">$ mysqladmin -uroot create mybbs<br />$ mysql -uroot mybbs < sql/mysql.sql</pre><br /><br />・DBへの接続設定を書く。<br />ファイル名は、config/$ENV{PLACK_ENV}.plで、デフォルトはdevelopment.pl<br /><b>config/development.pl</b><br /><pre class=\"prettyprint\">+{<br />    \'DBI\' => [<br />        \"dbi:mysql:database=mybbs\",<br />        \'root\',<br />        \'\',<br />        {mysql_enable_utf8 => 1}<br />    ],<br />};</pre><br /><br />・掲示板への書き込みメソッドを作成。<br /><b>lib/MyBBS/PC/C/Entry.pm</b><br /><pre class=\"prettyprint\">package MyBBS::PC::C::Entry;<br />use strict;<br />use warnings;<br />use utf8;<br /><br />sub create {<br />    my ($class, $c) = @_;<br />    if (my $body = $c->request->param(\'body\')) {<br />        $c->db->insert(<br />            \'entry\' => {<br />                body => $body,<br />            }<br />        );<br />    }<br />    return $c->redirect(\'/\');<br />}<br /><br />1;</pre>MyBBS::PC::C::Entry::createというメソッドを定義し、/entry/createというURLにマップされた（lib/MyBBS/Web/Dispatcher.pmを参照のこと。メソッドがどのURLにマップされているかは、plackup時の起動メッセージでも確認できる）。<br />$c->request は HTTP リクエストをあらわすオブジェクト。<br />$c->db メソッドは、Teng のインスタンスを返す（lib/MyBBS.pmにベタ書きされたメソッド）。<br />$c->redirect(\'/\') メソッドをよぶと Amon2::Web::Response オブジェクトが生成される。<br /><br /><br />・トップページ用のコントローラを作成する。<br /><b>lib/MyBBS/PC/C/Root.pm</b><br /><pre class=\"prettyprint\">package MyBBS::PC::C::Root;<br />use strict;<br />use warnings;<br />use utf8;<br /><br />sub index {<br />    my ($class, $c) = @_;<br />    my @entries = $c->db->search(\'entry\');<br />    $c->render(\'index.tt\', { entries => \\@entries});<br />}<br /><br />1;</pre>Tengの$c->db->search() メソッドで、entryテーブルの内容をSELECT。<br />$c->render() メソッドでレンダリングし、HTTPレスポンスオブジェクトを取得。<br /><br /><br />・トップページのHTMLを書き換える<br /><b>tmpl/pc/index.tt</b><br /><pre class=\"prettyprint\">[% WRAPPER \'include/layout.tt\' %]<br /><br />&lt;form method=\"post\" action=\"/entry/create\"&gt;<br />    &lt;fieldset&gt;<br />        &lt;div&gt;&lt;textarea name=\"body\"&gt;&lt;/textarea&gt;&lt;/div&gt;<br />        &lt;div&gt;&lt;input type=\"submit\" value=\"Post New Entry\" class=\"btn primary\" /&gt;&lt;/div&gt;<br />    &lt;/fieldset&gt;<br />&lt;/form&gt;<br /><br />[% FOR entry IN entries %]<br />    [% entry.id %]. [% entry.body %]&lt;br /&gt;<br />[% END %]<br /><br />[% END %]</pre>',1377581843,1377825410,'裸の太陽'),(139,'amon2で掲示板(2)~プラグイン導入法（ページャの追加）','今回は、ページング機能の追加を例として、Amon2プラグインの追加方法を学ぶ。<br /><br /><h4>★全体の流れ</h4><br /><ol><br />  <li>Plugin読み込み設定</li><br />  <li>読み込み部分の記述（※バージョンアップによる変更あり）</li><br />  <li>コントローラーへページャを追加する</li><br />  <li>ページのHTMLにページャのテンプレートを追加する</li><br /></ol><br /><br /><h4>実装の詳細</h4><br />・Teng::Plugin::Pagerを読み込む設定。<br /><b>lib/MyBBS/DB.pm</b><br /><pre class=\"prettyprint\">package MyBBS::DB;<br />use strict;<br />use warnings;<br />use utf8;<br />use parent qw/Teng/;<br /><br />__PACKAGE__->load_plugin(\'Pager\');<br /><br />1;<br /></pre><br /><br />・実際の読み込み部分を記述する<br />※Amon2のバージョンアップでこの辺の記述が変わった模様。旧バージョンをコメントアウトして修正を加えた。<br /><b>lib/MyBBS.pm</b><br /><pre class=\"prettyprint\">use Teng;<br />use Teng::Schema::Loader;<br />use MyBBS::DB;<br />my $schema;<br />sub db {<br />    my $self = shift;<br />    if ( !defined $self->{db} ) {<br />        my $conf = $self->config->{\'DBI\'}<br />        or die \"missing configuration for \'DBI\'\";<br />        my $dbh = $self->dbh;<br />        $self->{db} = Teng::Schema::Loader->load(<br />            namespace => \'MyBBS::DB\',<br />            dbh       => $dbh,<br />        );<br />        # $self->{db} = MyBBS::DB->new(<br />        #     dbh    => $dbh,<br />        #     schema => $schema,<br />        # );<br />    }<br />    return $self->{db};<br />}<br /></pre><br /><br />・コントローラーを修正する。<br /><b>lib/MyBBS/PC/C/Root.pm</b><br /><pre class=\"prettyprint\">sub index {<br />    my ($class, $c) = @_;<br />    my $page = $c->req->param(\'page\') || 1;<br />    my ($entries, $pager) = $c->db->search_with_pager(\'entry\' => {}, {order_by => \'id DESC\', page => $page, rows => 20});<br />    $c->render(\'index.tt\', { entries => $entries, pager => $pager });<br />}<br /></pre>$pager は Data::Page::NoTotalEntries クラスのインスタンス（Teng::Plugin::Pager のドキュメントを参照）。<br /><br /><br />・Amon2::Setup::Flavor::Large でスケルトンを作る際、<b>tmpl/pc/include/pager.tt</b>というページャのためのテンプレートが自動生成されているので、トップページで読み込む。<br /><pre class=\"prettyprint\">[% WRAPPER \'include/layout.tt\' %]<br /><br />&lt;form method=\"post\" action=\"/entry/create\"&gt;<br />    &lt;fieldset&gt;<br />        &lt;div&gt;&lt;textarea name=\"body\"&gt;&lt;/textarea&gt;&lt;/div&gt;<br />        &lt;div&gt;&lt;input type=\"submit\" value=\"Post New Entry\" class=\"btn primary\" /&gt;&lt;/div&gt;<br />    &lt;/fieldset&gt;<br />&lt;/form&gt;<br /><br />[% FOR entry IN entries %]<br />    [% entry.id %]. [% entry.body %]&lt;br /&gt;<br />[% END %]<br /><br />[% INCLUDE \'include/pager.tt\' WITH pager=pager %]<br /><br />[% END %]</pre>',1377667299,1377824997,'裸の太陽'),(140,'Amon2::Lite入門','<a href=\"http://mattn.kaoriya.net/software/lang/perl/20120628151042.htm\" target=\"_blank\">Amon2::LiteでとCPANモジュールで作る「Nopaste」チュートリアル</a><br /><br />取り急ぎメモ',1377681620,NULL,'裸の太陽'),(141,'amon2で掲示板(3)~Tengの行オブジェクトを拡張する(投稿日時を表示させる)','今回は投稿日付の表示機能を追加することで、DBへのカラム追加やAmon2での機能の追加について学ぶ。<br /><br /><h4>★全体の流れ</h4><br /><ol><br />  <li>スキーマへの追加</li><br />  <li>DBへのカラム追加</li><br />  <li>日付を自動挿入するDBトリガを追加</li><br />  <li>epoch timeを判読可能な形式に変換するメソッドの追加（Time::Pieceを使用）</li><br />  <li>テンプレート側で日付変換メソッドを呼び、表示する</li><br /></ol><br /><br /><h4>実装の詳細</h4><br />・DBスキーマにデータを追加する。<br /><b>sql/mysql.sql</b><br /><pre class=\"prettyprint\">CREATE TABLE IF NOT EXISTS sessions (<br />    id           CHAR(72) PRIMARY KEY,<br />    session_data TEXT<br />);<br />CREATE TABLE IF NOT EXISTS entry (<br />    id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,<br />    body VARCHAR(255) NOT NULL,<br />    ctime INT UNSIGNED NOT NULL -- ← NEW!<br />) ENGINE=InnoDB DEFAULT CHARSET=utf8;</pre>追加する日付データctimeはDATETIME型はやめて、INTEGER型のepoch timeにする。<br /><br /><br />・既存DBにカラムを追加する。<br /><pre class=\"prettyprint\">$ mysql -uroot mybbs<br />mysql> ALTER TABLE entry ADD ctime INT UNSIGNED NOT NULL AFTER body;</pre><br /><br />・ctimeをinsert時に自動で挿入するように、mysqlのtriggerを設定する。<br /><pre class=\"prettyprint\">$ mysql -uroot mybbs<br />mysql> DELIMITER |<br />CREATE TRIGGER before_insert_entry BEFORE INSERT ON entry FOR EACH ROW<br />BEGIN<br />  SET NEW.ctime = UNIX_TIMESTAMP(NOW());<br />END;<br />|<br />DELIMITER ;</pre>※上記をmysql.sqlのスキーマに追記したところ、エラーが発生した。原因は不明。<br /><br /><br />・ctimeをそのまま表示すると理解不能なので、Time::Pieceを使って普通の日付表示に変換する。<br />Tengで返される投稿データは、MyBBS::DB::Rowのインスタンスなので、このクラスに日付変換用のメソッドをはやす。<br /><pre class=\"prettyprint\">$ mkdir lib/MyBBS/DB/Row/</pre><br /><b>lib/MyBBS/DB/Row/Entry.pm</b>（新規に作成）<br /><pre class=\"prettyprint\">package MyBBS::DB::Row::Entry;<br />use strict;<br />use warnings;<br />use utf8;<br />use parent qw(Teng::Row);<br />use Time::Piece;<br /><br />sub ctime_obj {<br />    my $self = shift;<br />    return Time::Piece->new($self->ctime);<br />}<br /><br />1;</pre>※以後、$entry->ctime_obj というメソッドがよべるようになる。<br /><br /><br />・テンプレートを修正して、日付を投稿の横に表示する。<br />ctime_obj からよべる strftime メソッドで日付を変換する。<br /><pre class=\"prettyprint\">[% WRAPPER \'include/layout.tt\' %]<br /><br />&lt;form method=\"post\" action=\"/entry/create\"&gt;<br />    &lt;fieldset&gt;<br />        &lt;div&gt;&lt;textarea name=\"body\"&gt;&lt;/textarea&gt;&lt;/div&gt;<br />        &lt;div&gt;&lt;input type=\"submit\" value=\"Post New Entry\" class=\"btn primary\" /&gt;&lt;/div&gt;<br />    &lt;/fieldset&gt;<br />&lt;/form&gt;<br /><br />[% FOR entry IN entries %]<br />    [% entry.id %]. [% entry.body %] [% entry.ctime_obj.strftime(\'%Y-%m-%d(%a) %H:%M\') %]&lt;br /&gt;<br />[% END %]<br /><br />[% INCLUDE \'include/pager.tt\' WITH pager=pager %]<br /><br />[% END %]</pre>',1377761170,1377824822,'裸の太陽'),(142,'新サービスの開発開始！','サービスって言っても、やっぱり自分で使うだけなんだけど。。<br /><br />ｊｓのソースを書き込んでポチッとしたら、実行結果のWeb画面が表示されるっていうやつを作ろうと思う。<br />最近、jQueryとかthree.jsとかいじってて、いちいちhtmlからサーバーにおいてブラウザに確認みたいなのがすごく面倒だったから。<br /><br />とりあえずソース投稿して、シンタックスハイライト付きで表示させるとこまでは実装完了。<br />最初はAmon2::Liteとsqliteで十分だと思って実装開始したんだけど、DBIの書き方とか静的ファイルへのリンクの貼り方とかで詰まって、結局日記サイトと同じLarge FlavorとTengで実装した。<br />日記サイトの実装マニュアルを書いた後だったので、割りと短時間で出来たので、やはりドキュメントは大事ですね。<br /><br />あとは、three.jsとかjQueryとかを設置したひな形HTMLに、投稿したJSをペッと貼ってブラウザに表示するボタンを作ったらとりあえず完成。<br />もちろん修正機能いるけど、日記サイトをカンニングすりゃ楽勝だろ。',1377772562,NULL,'裸の太陽'),(143,'心配','今日は帰ってプログラミングしたいんだけど、すごく心配なことがあって、それどころじゃないかもしれない。<br />洗濯機も回さんといかんし…。',1377772669,NULL,'楽太郎'),(144,'jsLabo開発日誌・基本機能実装完了ヽ(^。^)ノ','<a href=\"http://circularuins.dyndns.org:3001/entry/show_single?id=142\">昨日の日記</a>で書いたアプリの実装がだいたい終わった。<br /><br />・コード貼って保存<br />・保存したコードをシンタックスハイライト付きで表示<br />・もちろん保存後に修正もできる<br />・リンクをクリックすると、保存したJSがブラウザで実行される<br /><br />ここまで終わった。<br />あとはdelete機能の実装だけ。<br />bootstrap当ててないので、表示が貧弱だが、ここを凝っても意味ないので手は出さない（出しちゃダメよ٩(๑`^´๑)۶）。<br /><br />createとかupdateのメソッドとテンプレは、ほとんどこのサイトのコードをコピペしたので頭使わず作れた。<br />一部、idをやりとりするあたりで、uri_forにurlオプションを引数で渡すやり方<br /><pre class=\"prettyprint\">&lt;a href=\"[% uri_for(\'/entry/show\',{ id => entry.id }) %]\"&gt;[% entry.title %]&lt;/a&gt;</pre>を忘れてたりして若干混乱した。このへんも手順にまとめるべきか…。<br /><br />で、1点だけ詰まったのでメモ。<br />jsを実行するテンプレ内のscriptタグ内に投稿したコードを展開する際、<br /><pre class=\"prettyprint\">[% entry.body|html %]</pre>とやっていたのだが、<br /><pre class=\"prettyprint\">\"  -->  & q u o t ;</pre>という風にブラウザではエスケープされてしまっていて、jsが実行できない。<br /><pre class=\"prettyprint\">[% mark_raw(entry.body|html) %]</pre>として、エスケープを解除しようとしたのだがダメ。<br />散々悩んだ末、<pre class=\"prettyprint\">[% mark_raw(entry.body) %]</pre>と、\"|html\"を除いてみると無事エスケープ解除され、jsが実行されるようになった。<br />意味をよくわからずhtmlだから\"|html\"としていたのだが、どうやらこれがhtmlエスケープを指示している箇所だったようだ。',1377840201,1377840822,'裸の太陽'),(145,'友人Kと','日曜の夜、大学からの友人Kと、梅田でもんじゃ焼きを食べた。<br />前回彼と会ったのは去年末だったから、約9ヶ月ぶりか。<br /><br />京都の老舗メーカーSでSEをやって4年目。<br />社内の出世コース上でも転機のある時期にさしかかり、色々と思うところもあるようだ。<br />某TPP参加の場合に会社がどうなってしまうのかという不安もあるようだが、何よりコードを書かせてもらえないという不満が強いようで、できれば海外の子会社に転勤して、PG修行したいと漏らしていた。<br /><br />”SE”はコードをかかない。<br />仕様の策定や、マネジメントの仕事ばかりで、コードを書くのは下請け（最近は海外が主）。<br />社内で出世したいなら、我慢して実績上げるか、上司に気に入られるしかない。<br />でも、コード書かずに不安でいられないエンジニアなんているんだろうか。<br /><br />コードも書く、報酬もきちんと貰う。<br />これって、日本では無理なのか。<br /><br />最近読んでる”月３万円ビジネス”の本では、日本の過剰な分業制を批判していたが、製造業全般がそうなっているみたい。<br />板金ひとつとっても、作業工程は複数の下請けを経由して、１社で完結できるところはない。<br />たぶんSIerも、そういう製造業のシステムを模倣しようとしてこうなってしまったんだろうな。<br />システム自体が、高度経済成長終了で破綻したのに。<br /><br />Kは相変わらず元気だった。<br />たまにしか会わないが、会うといつもふたりとも会話に夢中になって、食事の味も感じちゃいない。<br />学生時代からネタにされていた、ばかみたいにでかい笑い声も健在。<br />ただ今回彼は酒を注文せず、最後のもんじゃにも手を付けなかった。<br />すこし痩せたような気もしたので訊ねてみると、なんと脂肪肝になってしまったとのこと。<br />このフォアグラ野郎が。<br />全然、笑えない。<br />自分にとって本当に貴重な友人なので、彼がストレスなく働ける環境に身を置けるようになることを、こころから祈る。',1378087549,NULL,'楽太郎'),(146,'jsLabo開発日誌・HTML入力欄作成と、Tengのorder by','ｊｓだけ入力するようにしていたが、やはりHTMLのbody内も固定だといろいろ困る。<br />例えば、WebGL学習用、ふつうのJavascripitの学習用、enchant.js学習用という風に、いくつかテンプレを選べるようにすることも考えたが…やっぱりめんどくさいかな。<br />なので、普通に、HTMLのbodyを記入できるようにした。<br /><br />後は、コード一覧をutimeのdescにして、更新順に表示するようにしたかったので、Tengのオプションの指定の仕方を調べたのでメモ<br /><pre class=\"prettyprint\">my @entries = $c->db->search( entry => {}, { order_by => { \'utime\' => \'DESC\' } });</pre>２番めの引数に、どんどん追加してけばいいようだす。',1378113707,1378113811,'裸の太陽'),(148,'TDDの勉強','この2ヶ月でamon2アプリも一応2つ仕上げて、開発手順もそこそこブログに書けた。<br />自分的には、よくやったと思う。<br />あとはテストの書き方とCPANモジュールの書き方を身につけたい。<br /><br />最近会社の人がブログで、”テスト書く書かないは自由だけど、テスト書けないエンジニアの価値が下がりまくってるのは事実”みたいなことをおっしゃってて、密かに焦ってしまった。<br />ので、TDDってのをやってみようかなと思う。<br /><a href=\"http://hirobanex.net/article/2012/08/1343880047\" target=\"_blank\">PerlでTDD(テスト駆動開発)するなら覚えておきたいCPANモジュール群</a><br /><a href=\"http://perl-users.jp/articles/advent-calendar/2011/test/1\" target=\"_blank\">perl でテストを始めよう！！</a>',1378230316,1378230364,'裸の太陽'),(149,'太陽を盗んだ男、の結末','鬱の底に来て、死にたいって気持ちが出てきた時に、なぜか「太陽を盗んだ男」っていう映画で、沢田研二がボブマーリーの曲に合わせて踊りながら原爆を作ってるシーンを思い出すんだ。<br /><br />できたてほやほやの原爆をどう扱ったらいいか分からずに部屋でひとりサッカーするのは、孤独に命を持て余してるイメージ。<br /><br />映画の結末って、結局爆弾のスイッチ押して、東京の人間を虐殺したってことで合ってる？',1378230772,NULL,'楽太郎'),(150,'TDD・Test::More入門','★Perlの標準テストモジュール”Test::More”の使い方についてまとめた。<br /><br />・サンプルモジュール<br /><b>lib/SomeModule.pm</b><br /><pre class=\"prettyprint\">package SomeModule;<br /><br />use strict;<br />use warnings;<br /><br />sub new {<br />    my ($class, %args) = @_;<br />    bless \\%args, $class;<br />}<br /><br />sub sum {<br />    my $self = shift;<br />    my $ret = 0;<br />    for my $num (@_) {<br />        $ret += $num;<br />    }<br />    return $ret;<br />}<br /><br />1;</pre>引数で渡した数字を総和するモジュール。<br /><br />・モジュールを使用するテスト<br /><b>t/01_use.t </b><br /><pre class=\"prettyprint\">use strict;<br />use warnings;<br />use Test::More;<br /><br />use_ok(\'SomeModule\');<br /><br />done_testing;</pre><br /><pre class=\"prettyprint\">$ perl -Ilib t/01_use.t<br />＜結果＞<br />ok 1 - use SomeModule;<br />1..1</pre><br /><br />・モジュールのコンストラクタのテスト<br /><b>t/02_new.t</b><br /><pre class=\"prettyprint\">use strict;<br />use warnings;<br />use Test::More;<br />use SomeModule;<br /><br />#引数なしのコンストラクタ<br />subtest \'no args\' => sub {<br />    my $obj = SomeModule->new;<br />    isa_ok $obj, \'SomeModule\';<br />};<br /><br />#引数ありのコンストラクタ<br />subtest \'foo => bar\' => sub {<br />    my $obj = SomeModule->new(foo => \'bar\');<br />    isa_ok $obj, \'SomeModule\';<br />};<br /><br />done_testing;</pre>subtestを使って、複数のケースを書き分けれる。<br /><pre class=\"prettyprint\">$ perl -Ilib t/02_new.t<br />＜結果＞<br />    ok 1 - The object isa SomeModule<br />    1..1<br />ok 1 - no args<br />    ok 1 - The object isa SomeModule<br />    1..1<br />ok 2 - foo => bar<br />1..2</pre><br /><br />・メソッドのテスト<br /><b>t/03_sum.t</b><br /><pre class=\"prettyprint\">use strict;<br />use warnings;<br />use Test::More;<br />use SomeModule;<br /><br />my $obj = SomeModule->new;<br /><br />subtest \'basic\' => sub {<br />　　local $SIG{__WARN__} = sub { fail shift };<br />    my $got = $obj->sum(1, 2, 3);<br />    is $got, 6;<br />};<br /><br /># \"undef\"が渡された場合<br />subtest \'skip undef\' => sub {<br />　　local $SIG{__WARN__} = sub { fail shift };<br />    my $got = $obj->sum(undef, 2, 3);<br />    is $got, 5;<br />};<br /><br />done_testing;</pre>$SIG{__WARN__}を使って、wrningが出たらテストがこけるようにする。<br /><pre class=\"prettyprint\">$ perl -Ilib t/03_sum.t<br />＜結果＞<br />    ok 1<br />    1..1<br />ok 1 - basic<br />    not ok 1 - Use of uninitialized value $num in addition (+) at lib/SomeModule.pm line 15.<br />    # <br />    #   Failed test \'Use of uninitialized value $num in addition (+) at lib/SomeModule.pm line 15.<br />    # \'<br />    #   at t/03_sum.t line 15.<br />    ok 2<br />    1..2<br />    # Looks like you failed 1 test of 2.<br />not ok 2 - skip undef<br />#   Failed test \'skip undef\'<br />#   at t/03_sum.t line 18.<br />1..2<br /># Looks like you failed 1 test of 2.</pre>警告を消すには、モジュールを修正して、undefを渡さないようにすれば良い。<br /><br />・複数のテストを一括して行いたい場合は、proveコマンドを使う。<br /><pre class=\"prettyprint\">$ prove -lc t<br />＜結果＞<br />t/01_use.t .. ok   <br />t/02_new.t .. ok   <br />t/03_sum.t .. ok   <br />All tests successful.<br />Files=3, Tests=5,  0 wallclock secs ( 0.10 usr  0.02 sys +  0.20 cusr  0.05 csys =  0.37 CPU)<br />Result: PASS</pre>',1378364269,1378370325,'裸の太陽'),(151,'TDD・Test::Moreチートシート','★PerlのTest::Moreチートシート<br /><pre class=\"prettyprint\">use strict;<br />use warnings;<br />use Test::More;<br /><br />ok $got;                      # 真なら ok<br />ok !$got;                     # not ok とかないので逆にしたい場合はこうすると吉<br />is $got, $expected;           # ok $a eq $b のいい感じ版<br />isnt $got, $expected;         # is の逆。ほぼつかわない。<br />cmp_ok $got, \'<\' $expected;   # ok $a < $b のいい感じ版。\'>=\' とか \'==\' とか指定可能<br />like $got, qr/$expected/;     # $got に qr/foo/ が含まれる場合に OK<br />unlike $got, qr/$expected/;   # like の逆<br />is_deeply $got, $expected;    # 構造体の比較。超使う。最強<br /><br />pass $test_name;              # ここ通過したら OK みたいな感じで使うけどあんまり使わない<br />fail $test_name;              # ここ通過したら NG みたいな感じで使う<br /><br />note $message;                # メッセージを出力。make test とかでは出力されないので debug 用に使うイメージ<br />diag $message;                # メッセージを出力<br />explain $deep_structure;      # Data::Dumper::Dumper みたいなもん。出力自体はしないので note explain $got みたいにつかうとよい<br /><br />BAIL_OUT $why;                # ベイルアウト！！！！ 滅多に使わない<br /><br /># このブロックの中ならこけても許してくれる<br />TODO: {<br />    local $TODO = $why;<br />    ok 0;<br />    is \'foo\', \'bar\';<br />    fail \':)\';<br />}<br /><br /># このブロックはとばす<br />SKIP: {<br />    skip $why, $how_many unless $some_feature;<br />    ok $some_feature->foo();<br />    ok $some_feature->bar();<br />}<br /><br /># テストのブロックを明示するようなあれ。あとで説明。<br />subtest $desc => sub {<br />    ok got;<br />    is $got, $explain;<br />};<br /><br />done_testing; # テストの最後に書くおまじない</pre>',1378364643,1378364704,'裸の太陽'),(152,'メモ（音楽）','<a href=\"http://regista13.blog.fc2.com/\" target=\"_blank\">レジーのブログ</a>',1378886094,NULL,'楽太郎'),(153,'【Perl】配列の個数を求める','・通常は以下で配列の個数をスカラーとして求められる。<pre class=\"prettyprint\">my $num = @array;</pre><br />・配列リファレンスの場合は一工夫必要。<pre class=\"prettyprint\">my $sum = scalar(@$array);</pre>',1378953465,1378953530,'裸の太陽'),(154,'emacs整理整頓','昨日ぐらいで今週分の仕事でのプログラミングが一段落して、ちょっと燃え尽き症候群的になっていた。<br />次のタスクもあるし、個人的に作りたいアプリもあるんだけど（恭平さんのツイートだけ取得していい感じに閲覧できるアプリｗ）、なんか手が進まない、足が止まってる感じ。<br /><br />たぶん、最近読んでる”coders at work”の伝説ハッカーたちが、あまりにも自分と遠い地平にいるのを思い知らされたので、若干凹んでいる。<br />個人用ブログサイトも、なんとなく一段落してしまった。<br />そんなとこだと思う。<br /><br />他に足を重くしていることはないか。<br /><br />考えてみると、.emacs.dがやばい。<br /><br />職場PC、自宅サーバー、mac、全て違う設定になってる。<br />何より、もう半年以上githubにコミットしてない。<br /><br />ということで、えいやとリファクタリングすることにして、唯一git管理下にあるubuntuサーバーの.emacs.dを、何も手を入れずにすべての環境でgitcloneして動かせるようにすることにした。<br /><br />まずは、無駄に数が増えていた分割設定ファイルを整理した。<pre class=\"prettyprint\">.emacs.d---init.el<br />                |<br />                 -conf---00-basic.el<br />                             01-edit.el<br />                             02-display.el<br />                             03-anything.el<br />                             04-shellconf.el<br />                             05-programming.el<br />                             06-utils.el<br />                             07-webservice.el</pre>ファイル数かなり減らした。丸一日やってた（仕事しながら^^;）。<br /><br />で、今まで.gitignoreを設定せずに、.emacs.d以下まるごとgithubにあげていて、そのままcloneしたら、別環境では使えないシロモノだったので、設定した。<pre class=\"prettyprint\">.*~<br />*~<br />/*<br /><br />!/init.el<br />!/init.elc<br />!/conf<br />!/elisp<br />!/elpa<br />!/doc<br />!/.gitignore</pre>これで、環境依存部分以外だけバックアップできたはず。<br /><br />あとは、帰ってmacでgit cloneしてみて、os依存で動かない部分があれば、分岐させるようにすれば完璧！<br /><br />かえろかえろ☆（ゝω・）vｷｬﾋﾟ<br /><br />（追記）<br />結局26:30現在まで、いじりまくっていた。<br />OSによる分岐は簡単だったため、CUIとGUI、linux、Mac、更にはWindowsにまたがる設定も楽勝だった。<br />難しいのは例えばカーソル移動とか、フレーム管理とか、どうファイルとグループに分けるかってことで、あと、設定を書く順番も、下手に変えると突然エラーになったりするので気を使う。<br />とりあえず、macでもgitcloneと、gitから取ったnyan_modeだけgit cloneしなおしただけで動いた。<br />あとは便利そうな設定を随時追加してけばいいはず。<br /><br />はあ、眠い。<br />',1379063749,1379093935,'裸の太陽'),(155,'★Emacs　CPANモジュールのドキュメントとソースを見る','Yapc2013で仕入れたEmacs Tips。<br /><br />perl-compelation modeで簡単にCPANモジュールのドキュメントとソースを閲覧できるのだ！<pre class=\"prettyprint\">\".pl\"ファイル上で、<br /><br /><ドキュメントの閲覧><br />\"C-c d\"<br />useしているモジュール（してないものも）が一覧で出るので、選択する<br /><br /><ソースの閲覧><br />上の選択している状態でTabると、アクションの選択ができるので、<br />”Open module file”を選ぶ</pre>',1380604308,1380604836,'裸の太陽'),(156,'Emacs良記事','Emacs良記事<br /><br /><a href=\"http://d.hatena.ne.jp/syohex/20130926/1380209099\" target=\"_blank\">自分のプロダクトを海外でも認知してもらうには(Emacs編)</a><br /><a href=\"http://d.hatena.ne.jp/syohex/20130925/1380114236\" target=\"_blank\">Emacs Lispで Perlでの s/regexp/replaced/e を実現する</a><br /><br />この部分がショッキング<pre class=\"prettyprint\">国内の状況を見ても, ユーザ数は Vimの 1/100以下, Sublime Textの 1/10以下と感じですが, 海外でも似たような感じです.</pre><br />日本ではvimmerが多いだろうけど、海外では半々くらいかと思ってた。<br />サブライムにも完敗とか（泣）',1380619002,1380881992,'裸の太陽'),(157,'【CSS】ブログタイトルのデザイン','久々の当サイト改修日記☆（ゝω・）vｷｬﾋﾟ<br /><br /><a href=\"http://be-engineer.cpla.jp/?p=508\" target=\"_blank\">ブログでよくあるタイトル見出しをCSSで再現してみた</a><br />この記事で紹介されてるサンプルを、ブログタイトルのデザインにそのまま当ててみた。<br />static/pc/bootstrap/bootstrap_custom.cssに、サイトからそのままコピペで完了。<br />フォントサイズとかテンプレ側での日付の配置とかちょっと調整したけど、まあいいかんじになったんじゃないかなと思います…<br /><br />しかしCSS全然わかんないんだが、ほんとに細かいデザインが出来るんだな、と関心。',1380878807,NULL,'裸の太陽'),(158,'夢（イノシシ）','なんか山でイノシシに合う夢見た。<br />何かの暗示だろうか。<br />どうせグーグル先生はすぐに答えてくれるけど、しゃくだから、ググらない。',1380881378,NULL,'楽太郎'),(159,'【Perl】Minillaでモジュール作成','CPAN形式に対応したモジュールを作成するには、Minillaを使う。<br /><br />・Minillaのインストール<pre class=\"prettyprint\">$ cpanm Minilla<br />$ plenv rehash</pre><br />・Hoge::Hugaモジュールを作る<pre class=\"prettyprint\">$ minil new Hoge::Huga --username rakutarou</pre>Hoge-Hugaというディレクトリが作成される。<pre class=\"prettyprint\">$ tree Hoge-Huga<br />Hoge-Huga<br />├── Build.PL<br />├── Changes<br />├── LICENSE<br />├── META.json<br />├── README.md<br />├── cpanfile<br />├── lib<br />│   └── Hoge<br />│       └── Huga.pm<br />├── minil.toml<br />└── t<br />    └── 00_compile.t</pre>lib/Hoge/Huga.pmがモジュール本体コード。<br /><br />・実装後、モジュールインストールする。<pre class=\"prettyprint\"># t/にテストスクリプトを置くとテストできる。t/だとユーザーとして使う時のテストで、xt/には環境依存やモジュール作者用のテストとすることが多い<br />$minil test<br />$minil install</pre>これで、任意のスクリプトからuseできるようになる。',1381114717,1381114783,'裸の太陽'),(160,'【Perl】Moose/Mouseに関する良記事','<a href=\"https://gist.github.com/Shinpeim/5220843\" target=\"_blank\">Niigata.ll 発表(？)資料 「Perl なめんな」 - GitHub</a><br />Mouseっていうより、Perlの言語としての拡張性の高さに関する文章。<br />「PerlはCpanを使うためのDSLである」ってだれか今年のYapcで言ってた。<br />そういう意味では、Perlは寿命が長くなるべく作られた言語だし、まだまだ当分は現役で活躍するんじゃなかろうか。',1381117555,1381117584,'裸の太陽'),(161,'【Perl】CPANモジュール（並行プロセス、引数バリデーション）','職場のセンパイに教えてもらったのでメモ<br /><br />・<strong>Smart::Args</strong><br /><a href=\"http://hirobanex.net/article/2011/06/1306973413\" target=\"_blank\">引数の明示という観点からのPerlモジュール群</a><br />普通の関数でも、引数のヴァリデーションが簡単にできるし。デフォルトとかオプション指定も楽にできそう。<br /><br />・<strong>Parallel::ForkManager</strong><br /><a href=\"http://d.hatena.ne.jp/oranie/20110523/1306121730\" target=\"_blank\">【Perl】Parallel::ForkManagerモジュールで並列処理が便利過ぎて生きているのが辛い</a><br />これは全然知らなかったのでメモ。<br />生きてるのが辛くなるかどうかはよくわからないが、いろいろと便利そうではある。<br />さっそくこのブログの投稿件数取得とかで使ってみようかな。<br />',1381126544,1381126610,'裸の太陽'),(163,'【CPAN】Linux::Inotify2','Plackサーバーを調べてたら見つけた（ような気がする）モジュール。<pre class=\"prettyprint\">$ cpanm Linux::Inotify2</pre>特定のディレクトリでファイルの追加・変更等を行うと感知して、登録しておいた処理を行ってくれる。<br /><br />・例えば、”watched”ディレクトリにファイルが作成されるか移動されたら、\"processed\"ディレクトリにmoveする処理は<pre class=\"prettyprint\">my $watch_dir = \"path-to-watched\";<br />my $processed_dir = \"path-to-processed\";<br />my $inotify = Linux::Inotify2->new or die $!;<br /><br />$inotify->watch(<br />    $watch_dir,<br />    #フックされる処理の種類<br />    IN_CLOSE_WRITE | IN_MOVED_TO,<br />    sub {<br />        my $e = shift;<br />        my $name = $e->fullname;<br />        say \"move!:${name}\";<br />        #systemコマンドでファイルに対する処理を実行<br />        system(\'mv\', $name, \"${processed_dir}/\");<br />    }<br />);</pre><br />・AnyEventを利用して、イベントループにする<pre class=\"prettyprint\">my $cv = AnyEvent->condvar;<br />my $inotify_w = AnyEvent->io(<br />    fh => $inotify->fileno,<br />    poll => \'r\',<br />    cb => sub { $inotify->poll }<br />);<br />$cv->recv;</pre><br />この手の処理はなぜかものすごく便利に感じるから、早速業務とかでも使いたいと思うんだけど、正直まともな使い道が思い浮かばない…。<br />例えば、特定のディレクトリに置かれたファイルをscpで別マシンにコピーするバックアップ方式とか紹介されてたけど、別にrcyncで十分だし。。<br />systemコマンドでなんかする以外に、何か良い使い道はないものだろうか。。。<br /><br /><br /><strong>（追記）</strong><br />tokhiromuさんのブログで見つけたんだった。<br />”Plackup -R”で、ファイル変更時に自動的に再起動するようにする場合、Linux::Inotify2を入れてないとパフォーマンスが落ちるかもと書かれておった（Linuxの場合）。',1381395666,1381396260,'裸の太陽'),(164,'【JS】webスクレイピング','仕事で、クライアントｊｓでgoogle検索結果を取れないかっていう話になった。<br /><br />で、当然クロスドメイン問題なので、どうしたもんかと調べた結果、jquery.xdomainajax.jsというJQプラグインをめっけた。<br /><br /><a href=\"http://d.hatena.ne.jp/replication/20130831/1377932112\" target=\"_blank\">jQueryでクロスドメインAjaxを実現する方法(jquery.xdomainajax.js)</a><br /><br /><a href=\"http://www.kaasan.info/archives/1858\" target=\"_blank\">Javascriptスクレイピング！jquery.xdomainajax.js ITかあさん</a><br /><br />↑に書いてる通り、外部サイトのHTMLを取ったり、タグやidで内容取ってきたりとか、簡単にできる…のだが。。<br /><br />Googleとヤフーの検索結果<br />http://search.yahoo.co.jp/search?ei=UTF-8&va=\"おにぎり\"<br />http://google.co.jp/search?hl=ja&as_q=\"おにぎり\"<br />こういった検索エンジンの結果が取れない。<br />おにぎりをriceballに変えてもダメ。<br /><br />詰んだ。<br />',1381475641,NULL,'裸の太陽'),(165,'【VPS】さくらVPSのセットアップ','そろそろ自宅サーバー辞めたいんですよ。<br /><br />まあMBAにLinux入れてるだけの簡易版だから、電気代とか大したことないと思うけど。<br /><br />それでも夏はファンまわりっぱなしだったから、いつ落ちるか心配になった。<br />少なくとも、このサイトとsubsonicはもっと安心できる環境に移したい。<br /><br />というわけで、現在の第一候補はさくらVPS<br /><a href=\"http://plusblog.jp/8662/\" target=\"_blank\">さくらVPSセットアップの腰が軽くなるフロー</a><br /><a href=\"http://dotinstall.com/lessons/basic_sakura_vps\" target=\"_blank\">さくらのVPS入門 (全21回) - プログラミングならドットインストール</a><br /><br />金は…。。',1382075071,NULL,'裸の太陽'),(166,'園子温処女','失っちまったんです。<br />園子温処女。<br />池袋の映画館で捨てたんです。<br /><br /><strong><font color=\"red\">地獄でなぜ悪い</font></strong>。<br /><br />全然悪くないっすよ。<br />っていうか、この世は地獄なんです。<br />来世も当然地獄です。<br /><br />だったら、地獄ライフ充実させるのが正解っすよね！<br /><br />あー、楽しかった。<br />ただ、ヒロインが弱いかな。愛のむきだしに比べると。<br />二階堂ふみはとっても魅力的なんだけど、満島さんみたいな役柄との宿命的な因果を感じなかった、って周りくどいな。<br />別に二階堂ふみじゃなくていいだろこの役。<br />まあ、主役じゃないから別にいいわ。<br />星野源の演技も音楽も良かったっす。<br /><br />あーでも、処女は愛のむきだしにあげたかったな（泣）<br /><br />蛇足ですが一番好きな園子温映画は「夢の中へ」です…！',1382334298,1382334544,'楽太郎'),(167,'【TDD】ブートキャンプ！','職場で、TDDBC（テスト駆動開発ブートキャンプ）という勉強会に参加した。<br />講師は、和田卓人さん。<br />テスト界隈ではかなり有名な御仁らしく、いろんな会社、グループに出張して、TDDBCを行いテスト駆動開発の布教を行っているらしい。<br />「SQLアンチパターン」著者らしい。<br /><br />動画での講義もありやす↓<br /><a href=\"http://gihyo.jp/dev/serial/01/tdd/\" target=\"_blank\">［動画で解説］和田卓人の“テスト駆動開発”講座</a><br /><br />流れは、<br />・テストに関する講義<br />　↓<br />・和田さんによるTDDデモ<br />　↓<br />・課題をTDDで解く（ペアプロ）<br />　↓<br />・発表とコードレビュー<br />　↓<br />・KPT法で振り返り<br /><br />結論から言うと、TDDもペアプロも<strong>めっちゃ楽しい</strong>！<br />仕事でもプライベートでも普通にやっていきたいなあ。。<br />特にTDDは、才能でも開発手法でもなく個人のスキルです！という事を言われていた。<br />個人のスキルってことは即ち、一人で高められるってこと。<br />やるかやらないか。<br /><br />ちなみにTDDの肝は、<br />１，<font color=\"red\">テストを書いて失敗させる</font><br />２，<font color=\"green\">実装してテストに通す</font><br />３，リファクタリング<br />これをぐるぐるまわすこと。<br />注意点としては、<br />・事前準備として問題を最小単位まで分けて、TODOリストにして、一つずつサイクルを回していく（1度に複数の相手をしない）<br />・２の時に、まず固定値を返す関数などとして実装し（仮実装）、テストコード自体のテストを済ませる<br />・３つ全部をバランスよく（リファクタリングをさぼらない）<br />って感じ。<br /><br />わからないこともいっぱいあるけど、参考文献を大量にあげてくれた。<br /><br />【TDD】<br />・テスト駆動開発入門　ケント・ベック　絶版…<br />・レガシーコード改善ガイド　翔泳社　仕事に使えそう！<br />・xUnit Test Patterns　洋書のみ　ネットでwikiが読める<br />・ソフトウェアテスト技法ドリル<br />・実践テスト駆動開発　新しいバイブルらしい<br />・テスト駆動JavaScript<br /><br />【リファクタリング】<br />・リファクタリング　マーチン・ファウラー　絶版　Rubyエディションなら手に入る<br />・リーダブルコード　オライリー<br />・データベースリファクタリング　絶版<br /><br />あとは、<strong>写経！写経！！写経！！！</strong><br /><br />〈追記〉<br />↓ペアプロの成果物<br /><a href=\"https://github.com/circularuins/TDDBC\" target=\"_blank\">https://github.com/circularuins/TDDBC</a><br /><br />以下当日のメモ<br />↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓<br />講師：和田卓人さん<br /><br />http://gihyo.jp/dev/serial/01/tdd/<br />和田卓人のテスト駆動開発講座<br /><br />「SQLアンチパターン」著者<br /><br />・\"テスト駆動開発\"の定義<br />　Developer Testiong（開発者が開発促進のために）<br />　Customer Testing,QA Testing<br /><br />・プログラマによるプログラマのためのテスト<br />　　手動ではやらない！<br />　　「テスト駆動開発入門」ケント・ベック　絶版…<br />　　　動作するきれいなコード<br />　　　　きれいな設計には終わりがない<br />        ソフトウェア開発の複雑性、予測不可能性<br />        早く動かすことが重要（動くからいいじゃんという堕落の罠がある）<br />        →テスト駆動開発が可能にする<br /><br />・TDDはサイクル<br />　１，目標考える<br />　２，テスト書く<br />　３，テスト実行して失敗させる<br />　４，目的のコードを書く<br />　５，テストを成功させる<br />　６，テスト通るままでリファクタリングする<br />　全てをバランス良く行う（リファクタリングをさぼらない。ダントツでリファクタリングが大事）<br />　リファクタリングで1コミット。プログラミングの一部。<br /><br />・リファクタリング<br />　　「リファクタリング」マーチン・ファウラー　絶版<br />　　　Rubyエディションなら手に入る<br />　　「リーダブルコード」オライリー<br /><br />・テスト駆動開発の心得<br />　　大きな課題を小さく分割する<br />　　複数を同時に相手しない。問題をひとつづつ対処する。<br />　　　一口サイズのTODOリストに対応したテスト。<br />　　すばやくまわす<br />　　自分が最初のユーザー<br />　　　作る前にテストを書くから。<br />　　　使いやすいコードと作りやすいコードは若干違う。<br />　      作りにくくても、使いやすい方が価値がある<br />　　不安に対するテスト<br />　　　アルゴリズム、ライブラリ、仕様etc...自分の手が止まるところだけテスト書けばいい。<br />　　　例：getter,setterに書く必要はない。メインの処理には1個じゃ足りない。<br />　　日々命綱を編んでおく<br /><br />・TDD最大のメリットは心理的なものである<br />　即座にフィードバック<br />　書いたコードに自信を持つ<br />　　ログじゃなく、コードとして残る<br />　これから書くコードに自信を持つ<br /><br />・テストは目的ではなく手段！<br /><br />・TDDの真の目的は健康！！<br />　　変化に対応するのは、健康体のコード<br />　　チームの健康も<br /><br />・ペアプロデモ<br />　FizzBuzz<br />　・TODOリストを作成する<br />　　・その他の数の時は、その数を返す。<br />　　・3の倍数の時はFizzと返す。<br />　　・<br />　　・<br />　・テストコードは、\"下の方、ゴール\"から書いていく<br />　・テストコード内に実装を書いてテストを通してから、それを移植するやり方<br />　・仮実装<br />　　いきなり答えを返しちゃう。茶番じゃないよｗ→結果がグリーンならおｋ<br />　　　テストコードのテストを実装にするために<br />　・三角測量<br />　　　return 1;関数に、2を渡したりして、わざと失敗させる<br />　　　失敗したあとで、実装を書き直す<br />　・リファクタリングする<br />　・次のTODOに対するテストを書く→実装→リファクタリング<br />　・テストのリファクタリングもやる<br />　　テストを入れ子にしたりとか<br />　・不安がない時は仮実装・三角測量を飛ばしてもいい<br /><br />・ペアプロのやり方<br />　テストと実装を交互にやるとか<br />　リファクタリングのアドバイスとか手を出すとか<br /><br />・応用への参考文献<br />　★レガシーコード改善ガイド　翔泳社<br />　　現在テストがないコードにテストを書いていくためには<br />　　若干裏ワザが必要<br />　★データベースリファクタリング　絶版<br />　★xUnit Test Patterns　洋書のみ　ネットでwikiが読める<br />　　Fragile Tests　→　内部実装を変えるとテスト結果が変わる<br />　　　実装のテストになりすぎている。プライベートメソッドのテストとか。<br />　　Slow Tests<br />　★ソフトウェアテスト技法ドリル<br />　　テストデータの選び方とか<br />　★実践テスト駆動開発　新しいバイブル<br />　　モックオブジェクトを使うテスト技法<br />　　ロンドン学派とデトロイト学派<br />　★テスト駆動JavaScript<br />　　UIはテストやりすぎても報われない。その他をなるべく自動化。<br /><br />・TDDはスキル<br />　勉強と写経！<br />　　・テスト駆動開発入門<br />　　・Clean Code<br />　　・リファクタリング',1382492479,1382500304,'裸の太陽'),(168,'【TDD】便利モジュールと使い方','昨日のTDDBCで覚えた、便利（っていうか必須）なPerlモジュールたち。<br /><br />・<strong>Test::Pretty</strong><br />テスト結果をプリチーにしてくれる☆（ゝω・）vｷｬﾋﾟ<br />っていうかこれないと見づらすぎ…<pre class=\"prettyprint\">$ cpanm Test::Pretty<br />$ prove -Ilib -PPretty t/hogehoge.t<br />※proveは、Test::Harnessに依存（普通はCPAN使ってたらだいたい入ってる）<br />※テストファイル名は、先頭小文字がいい</pre><br /><br />・<strong>Test::Exception</strong><br />テスト側で例外を拾ってくれる。<pre class=\"prettyprint\">use Test::More;<br />use Test::Exception;<br /><br />throws_ok { テストするメソッド } qr/正規表現/, \"結果に表示するメッセージ\";</pre>',1382500009,NULL,'裸の太陽'),(169,'無題','テレビうるさい！<br /><br />てれびがうるさい！<br />てれびがうるさい<br />てれびがうるさい<br />てれびがうるさい<br />てれびうるさい<br />てれびうるさい<br />てれびいらない<br />てれびうるさい<br />てれびがいやだ',1383145665,NULL,'楽太郎'),(170,'詩','どうでもいいんだ<br />日々が地獄でも<br />息することが苦痛でも<br />夢も希望もなくても<br /><br />あれを必ず作るんだ<br />作って、あの人と、あの人に見てもらおう<br />それだけで、まだ息ができる',1383213764,NULL,'楽太郎'),(171,'【Perl】ニコニコ','さて11月です。<br />11月といえば、古代エジプトでは排便の神が11月の神だそうです。<br />嘘です。<br />ああーつまんねえ。<br /><br />この日記も半年目です。<br /><br />良さそうな動画を見つけたのでメモ。<br /><a href=\"http://www.nicozon.net/watch/sm14694133\" target=\"_blank\">Perlモジュールの作り方（修正版）</a>',1383278067,NULL,'裸の太陽'),(172,'【vps】初期設定','まだ借りてないよ。<br />さくらのvps。<br />メモリ2GHDD200Gで、月1800ぐらい。<br />うーんうんうん。<br /><br /><a href=\"http://blog.yagi2.com/?p=329\" target=\"blank\">さくらのVPSをかりてみました。 Minecraftのサーバもそこに立ててみました。</a><br /><br />うんうん言いつつ、既にセットアップ手順をググってるオレ。',1383285817,NULL,'裸の太陽'),(173,'【vps】申し込みから初期設定','週末にさくらのvpsを申し込んだ。<br />メモリ2G、HDD200Gの月額1480円（２週間無料）。<br />申し込んだらすぐに仮想サーバーのIPとrootパスワードが送られてくる。<br />パスワードの変更とか、まあ、簡単。<br /><br />で、さっそくサーバーの初期設定に手を付けたんだが、OSはCentOS6。<br />yumでemacs入れたら23が入ってきた時点で激萎え。<br /><br />衝動的にOSを消去し、Fedoraをインストールすることにした。<br /><br />続きは続きで。',1383620407,1383621305,'裸の太陽'),(174,'【vps】Fedora16のインストール','続き～<br /><br />管理画面<br /><a href=\"https://secure.sakura.ad.jp/vpscontrol/main/\" target=\"_blank\">https://secure.sakura.ad.jp/vpscontrol/main/</a><br />から、\"カスタムOSインストール\"を選択。<br />バーチャルの管理画面でインストールを進めていく事になるのだが、Javaやら何やらが必要。しかもChromeだめ。<br />なので、いったんここはあきらめて、後日会社のWindows上のFirefoxで作業することにした。<br /><br />～後日～<br /><br />Fedora19のx86_64bitをインストールした。<br />基本ここに書いている通り。<br /><a href=\"http://support.sakura.ad.jp/manual/vps/mainte/custom_fedora.html\" target=\"_blank\">カスタムOSインストールガイド> Fedora 19</a><br />ちょっとはまったのは、前入ってたCentのパーティション消すところと、ネットワークの設定。<br />ネットワークの設定は、インストール開始時に、IP、サブネット、デフォルトゲートウェイ、DNSの値がちゃんと画面に出るので、それを間違いなく打ち込めば良い。<br />あ、あとインストールイメージ取得先のURLがftpになってるのに、プルダウンで選ぶところがhttpになってて、それに気づかずしばらくエラーになってて迷った。<br />そのぐらいで、問題なくインストール完了。<br /><br />完了後は管理画面でサーバーのステータスが起動になるのを待って、sshで接続。<br />rootまたは、インストール時にユーザーを作ってたらユーザーでも入れる。<br /><br />というわけで、続きはサーバー設定。',1383621283,NULL,'裸の太陽'),(175,'【vps】サーバー初期設定','続き～<br /><br />ではでは、行った設定をつらつら書いていきます。<br /><br />・パッケージupdate<pre class=\"prettyprint\">$ su - root<br /># yum install yum-fastestmirror<br /># yum update</pre><br />・言語設定の日本語化<pre class=\"prettyprint\">/etc/sysconfig/i18nはもうないので、<br /># vi /etc/locale.conf<br />LANG=\"ja_JP.UTF-8\"<br /># source /etc/locale.conf<br /># echo $LANG<br /># date (確認)</pre><br />・sudoで作業できるように<pre class=\"prettyprint\"># usermod -G wheel username<br /># visudo<br />% wheel ALL=(ALL)  ALL  # この行のコメントアウトを外す<br />（↑最初からコメント外れてた？）<br />bash再起動後にsudo可能に</pre><br />・鍵認証への変更<pre class=\"prettyprint\">【ローカル】<br />・RSA鍵の作成<br />$ ssh-keygen -b 1024 -t dsa<br />・公開鍵のコピー<br />$ ls ~/.ssh/id_dsa.pub<br />サーバーのユーザーホームにscpなどでコピーする<br /><br />【サーバー】<br />$ mkdir .ssh<br />$ chmod 700 .ssh<br />$ cat id_rsa.pub >> authorized_keys<br />$ mv authorized_keys .ssh/<br />$ cd .ssh<br />$ chmod 600 authorized_keys<br /><br />・ローカルからSSH接続の確認<br />$ ssh username@IPアドレス</pre><br />・サーバ側のSSH設定の変更<pre class=\"prettyprint\">$ sudo vi /etc/ssh/sshd_config<br />PermitRootLogin no  # rootでのログイン禁止<br />PermitEmptyPasswords no  # 空のパスワードを禁止？<br />PasswordAuthentication no  # パスワードでのログイン禁止<br /><br />$ sudo systemctl restart sshd.service<br />※/etc/init.d/sshdはもう存在しない</pre><br />・port番号の変更<pre class=\"prettyprint\"></pre><br />・ファイヤーウォールの設定<pre class=\"prettyprint\"></pre><br />・Emacsインストール<pre class=\"prettyprint\">$ sudo yum install emacs<br />$ emacs -version<br />GNU Emacs 24.3.1<br />$ git clone https://github.com/circularuins/emacs_ver3.git .emacs.d<br />$ emacs</pre>',1383621521,1383724503,'裸の太陽'),(176,'【vps】Subsonicのインストール','とりあえずfedoraのvpsが稼働したので、何はなくともSubsonic。<br />なんせ200GBあるので、安心して音楽入れられる。<br /><br />参考サイト<br /><a href=\"http://blog.glidenote.com/blog/2012/04/03/subsonic-nginx/\" target=\"_blank\">さくらVPS 2G+Subsonic+Nginxで自分用ストリーミングサーバを構築</a><br /><pre class=\"prettyprint\">JavaのSDKインストール<br />$ sudo sudo yum install java-1.8.0-openjdk<br /><br />rpmパッケージのダウンロートとインストール<br />$ cd /tmp<br />$ wget http://downloads.sourceforge.net/project/subsonic/subsonic/4.6/subsonic-4.6.rpm<br />$ sudo rpm -ivh subsonic-4.6.rpm --test<br />$ sudo rpm -ivh subsonic-4.6.rpm<br /><br />自動エンコーディングのためのライブラリ<br />$ sudo yum -y install lame flac faad2 vorbis-tools ffmpeg<br /><br />音楽ファイル用のディレクトリを作成<br />$ sudo mkdir /var/music<br />$ sudo mkdir /var/playlists<br />$ sudo chmod 777 /var/music<br />$ sudo chmod 777 /var/playlists<br /><br />ローカルから音楽ファイルを同期<br />$ rsync -rv /var/music/ username@59.106.191.33:/var/music/</pre><br /><a href=\"http://59.106.191.33:4040\" target=\"_blank\">http://59.106.191.33:4040</a>で画面にアクセスできるので、後はユーザーとかパスの設定を適宜。<br /><br />※ほんとは最新のsubsonic-4.9か4.8を入れたかったんだけど、書くのがめんどい諸々の理由で断念。<br /><br />【11/7追記】<br />なんか、さくらVPSのHDDのほとんどの容量は/homeに振られてるっぽいので、/var以下に音楽おくと、すぐに一杯になりそうなことに気づいた。<br />なので、/var/musicと/var/playlistを~/に移動。<br />subsonicの管理画面でも、2つの置き場を変更。<br />最後は念のため再起動してオッケー☆（ゝω・）vｷｬﾋﾟ<br /><pre class=\"prettyprint\">$ cd /var<br />$ sudo mv music ~/<br />$ sudo mv playlists ~/<br />$ sudo systemctl restart subsonic</pre>',1383668851,1383796914,'裸の太陽'),(177,'【vps】Perl環境の設定','subsonic無事入って、作業BGMには不自由しなくなったので、続けてPerl環境を整備。<br /><br />目指すは、plenv + cpanm + carton の、ナウでモダンな環境！<br />（以前のサーバーでは手探りでやってるうちに環境を汚しまくったので。perlbrewのせいでplenvがうまくいかなかったりとか…）<br /><br />・システムPerlの確認とperl-coreインストール<pre class=\"prettyprint\">$ perl -v<br />$ sudo yum -y install perl-core<br /># ↑入れないと、plenvもcpanmもインストールでこける</pre><br />・plenvの導入<pre class=\"prettyprint\">$ git clone git://github.com/tokuhirom/plenv.git ~/.plenv<br />$ echo \'export PATH=\"$HOME/.plenv/bin:$PATH\"\' >> ~/.bash_profile<br />$ echo \'eval \"$(plenv init -)\"\' >> ~/.bash_profile  #これ忘れると、切り替えがうまくできない<br />$ cat .bash_profile<br />$ exec $SHELL -l  #シェルの再起動<br /><br />$ git clone git://github.com/tokuhirom/Perl-Build.git ~/.plenv/plugins/perl-build/  #Perlのビルドに必要なプラグイン<br /><br />$ plenv --version</pre><br />・plenvを使って最新安定版のPerlをインストール<pre class=\"prettyprint\">$ plenv install -l  #インストール可能なPerlの一覧<br />$ plenv install 5.18.1  #真ん中が偶数のが安定版</pre><br />・インストールしたPerlに切り替える<pre class=\"prettyprint\">$ plenv rehash<br />$ plenv versions<br />* system<br />  5.18.1 (set by /home/usename/.plenv/version)<br />$ plenv global 5.18.1  #globalに設定<br />$ plenv versions<br />  system<br />* 5.18.1 (set by /home/usename/.plenv/version)<br />$ perl -v</pre><br />・cpanmの導入<pre class=\"prettyprint\"># 現在有効になっているバージョンのperlにcpanmをインストールする<br />$ plenv install-cpanm<br />$ plenv which cpanm<br />/home/username/.plenv/versions/5.18.1/bin/cpanm<br /><br /># cpanmがインストール済みのperlのバーションの一覧<br />$ plenv whence cpanm<br />5.18.1<br /># バージョン下にインストールされているモジュールの一覧<br />$ plenv list-modules<br />App::cpanminus<br />Perl<br /><br /># cpanm自体の更新<br />$ cpanm --self-upgrade</pre><br />・cartonの導入<pre class=\"prettyprint\">$ cpanm Carton<br />$ carton -v<br /><br />・cpanfileの作成<br />$ cpanm App::scan_prereqs_cpanfile<br />$ scan-prereqs-cpanfile  #prjルートで実行<br />$ scan-prereqs-cpanfile --diff=cpanfile  #既存のcpanfileとの差分<br /><br />・モジュールの一括インストール<br />$ carton install  #cpanfileのある場所で実行<br />※モジュールは./local以下入る<br />$ ls carton.lock<br />※デプロイモードで実行すると、以後lockファイルが更新されなくなる<br /><br />・./localモジュールを使って起動<br />$ carton exec -- ★実行したいコマンド★</pre>',1383720566,1384220680,'裸の太陽'),(178,'【Perl】新・モダンPerl入門？','バイブル「モダンPerl入門」の著者、牧大輔さんのブログ？を偶然発見。<br /><a href=\"http://blog.livedoor.jp/lestrrat-practical_modern_perl/\" target=\"_blank\">Practical Modern Perl (仮)</a><br />内容見る限り、年明けに出るという噂の「モダンPerl入門」新版の原稿っぽい。<br />よだれを垂らして発売を待っていたところだったので、迷ったのだが読んでしまった。。。<br /><br />【感想】<br />plenvとかでPerlを入れる際、後でマイナーバージョンアップした時にパスの変更とかしないでいいように、<br />5.18.1<br />なら<br />5.18<br />とかって名前で入れるといいっていうのは、なるほど！<pre class=\"prettyprint\">$ plenv install perl-5.18.1 --as 5.18</pre><br />',1383726517,1383726622,'裸の太陽'),(179,'【環境構築】Fedora19にMariaDBインストール','メモ<br /><a href=\"http://stackoverflow.com/questions/17825331/how-to-install-mariadb-in-fedora-19\" target=\"_blank\">How to install MariaDB in Fedora 19?</a><br /><br />【11/11追記】<br />fedora19からは、MySQLではなく、MariaDBがサポートされるようになったそうで、<br />今後は色んなとこでこっちに切り替わってく気配が濃厚なので、最初からこっちを入れといたほうが楽かなと。<br />あと、MySQLと完全互換性ということなので（起動プログラム名まで\"mysql\"w）、とりあえず入れとけと。<br /><pre class=\"prettyprint\">$ sudo yum install mariadb mariadb-libs mariadb-devel mariadb-server<br />$ sudo sudo systemctl start mysqld<br />$ sudo systemctl enable mysqld<br />$ mysql<br />Welcome to the MariaDB monitor.  Commands end with ; or \\g.</pre>',1383903043,1384146871,'裸の太陽'),(180,'【環境構築】OSX（Lion）でVagrant','macでbrew installもいいのだけど、やはり本番環境と同じ環境をオフラインでも用意したいので、ようやくVagrantに手を出した。<br />Fedora19とEmacsの環境を作っただけなのだけれど、今のところ簡単、快適。<br /><br />１，VirtualboxとVagrantのインストール<pre class=\"prettyprint\">それぞれの公式サイトからダウンロード<br />・Virtualbox<br />https://www.virtualbox.org/wiki/Downloads<br />・Vagrant<br />http://downloads.vagrantup.com/<br />$ vagrant  --version</pre><br />２，VagrantでFedoraをインストール<pre class=\"prettyprint\">・Box(テンプレート)を取得（非公式版）<br />http://www.vagrantbox.es/<br />↑のOS一覧から欲しいもののURLを探す<br />$ vagrant box add fedora19 https://dl.dropboxusercontent.com/u/86066173/fedora-19.box<br />$ vagrant box list  #取得済みboxリスト<br />$ vagrant box remove  #削除の場合<br /><br />・仮想マシンファイルの実置き場<br />$ ls ~/.vagrant.d/boxes</pre><br />３，Vagrant使用手順<pre class=\"prettyprint\">・初期化と起動<br />$ mkdir ~/myFedoraVM  #仮想マシンごとにフォルダを作る<br />$ cd ~/myFedoraVM<br />$ vagrant init fedora19  #テンプレートで初期化<br />$ ls<br />Vagrantfile  #rubyで書かれた設定ファイル<br />$ vagrant up  #仮想マシンが作成され起動する<br /><br />・停止、再起動など<br />$ cd ~/myFedoraVM<br />$ vagrant status  #状態を見る<br />$ vagrant suspend  #停止<br />$ vagrant resume  #再開<br />$ vagrant halt  #終了<br />$ vagrant up  #起動<br />$ vagrant reload  #再起動<br />$ vagrant destroy  #削除（virtualboxからも削除される。Vagrantfileは残る）<br /></pre><br />４，Vagrantで仮想マシンに入って作業する<pre class=\"prettyprint\">$ cd myFedoraVM<br />$ vagrant ssh<br />↑これでssh接続したのと同じことになる。sudoは設定なしで使えた。<br />$ exit  #仮想マシンから出る</pre><br />５，boxを作って使用する<pre class=\"prettyprint\">$ cd ~/myFedoraVM<br />$ vagrant package  #仮想マシンはシャットダウンされる<br />$ ls<br />package.box<br />$ vagrant box add my_box package.box<br />$ rm package.box<br /><br />$ mkdir ~/myBox<br />$ cd ~/myBox<br />$ vagrant init my_box<br />$ vagrant up</pre>',1384139669,1384145074,'裸の太陽'),(181,'【Perl】モダンな文法まとめ','簡潔だけど、オブジェクト志向も含めて文法全体をカバーしてくれているのでメモ。<br /><br /><a href=\"https://github.com/hatena/Hatena-Textbook/blob/master/oop-for-perl.md\" target=\"_blank\">Perl によるオブジェクト指向プログラミング</a><br /><br />【追記】<br />DBIとかもあった。<br />こりゃありがたい＆はてなさまさま。<br /><br /><a href=\"https://github.com/hatena/Hatena-Textbook/blob/master/db-control-by-dbi.md\" target=\"_blank\">Perlでのデータベース操作</a>',1384396754,1384396924,'裸の太陽'),(182,'【Subsonic】4.6->4.8へupdate','4.6だとプレイリストの作成方法がよくわからなかったのでupdate。<br /><pre class=\"prettyprint\">$ cd /tmp<br />$ wget http://sourceforge.net/projects/subsonic/files/subsonic/4.8/subsonic-4.8.rpm<br />$ ls<br />subsonic-4.8.rpm<br />$ sudo systemctl stop subsonic<br />$ sudo rpm -e subsonic-4.6.rpm  ホントは-Uvhでupdateの方がいいんだけど、諸事情によりいったん削除<br />$ sudo rpm -ivh --test subsonic-4.8.rpm<br />$ sudo rpm -ivh subsonic-4.8.rpm<br />準備しています...              ################################# [100%]<br />更新中 / インストール中...<br />   1:subsonic-4.8-3434                ################################# [100%]<br />Starting subsonic (via systemctl):                         [  OK  ]  #起動までやってくれる</pre>',1384487622,NULL,'裸の太陽'),(183,'【TDD】Javascriptでケントベック！','QunitっていうJSのテストフレームワークを使って、ケント・ベックをやってみたっていう記事。<br /><a href=\"http://blog.asial.co.jp/1125\" target=\"_blank\">実践TDD! テスト駆動開発入門</a>',1385107369,NULL,'裸の太陽'),(184,'【環境構築】Windows(7)でVagrantとか','<a href=\"http://ginzanomama.hatenablog.com/entry/2013/08/15/211532\" target=\"_blank\">WindowsでVagrantする</a><br />リンクもいろいろ参考になりやす！',1385615353,NULL,'裸の太陽'),(185,'【ヤバいサイト】','<a href=\"http://megane4141.tumblr.com/post/15772005185/pdl2h\" target=\"_blank\">JUDO CHOP</a><br />korehayabaii!',1385874994,NULL,'裸の太陽');
/*!40000 ALTER TABLE `entry` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER before_insert_entry BEFORE INSERT ON entry FOR EACH ROW
BEGIN
  SET NEW.ctime = UNIX_TIMESTAMP(NOW());
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2013-12-05  8:00:01
